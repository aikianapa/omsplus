if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(bT,E,bo){var bb=false,Q="230",y=13,co=42,u=bT.roistatHost,ax="0.2",ab="1.0",cu="roistat_visit_cookie_expire",bM="roistat_visit",aL="roistat_first_visit",ag="roistat_is_need_listen_requests",cW="roistat_phone",aw="roistat_referrer",cx="roistat_marker",aZ="roistat_marker_old",bh="roistat_ab",cd="rs",F="roistat",V="leadhunter_expire",L=5*60*60,bp="roistat_leadHunterEnabled",o="roistat_leadHunterTargetPagesMap",b7="roistat_leadHunterCallbackSettings",aJ="roistat_leadHunterScriptId",R="roistat_isleadHunterScriptIdActive",aW="roistat_multiwidgetEnabled",bE="roistat_multiwidgetVKEnabled",cl="roistat_multiwidgetVKLink",M="roistat_multiwidgetFBEnabled",cD="roistat_multiwidgetFBLink",b9="roistat_multiwidgetTelegramEnabled",ba="roistat_multiwidgetTelegramLink",ci="roistat_multiwidgetWhatsAppEnabled",bm="roistat_multiwidgetWhatsAppLink",c2="roistat_multiwidgetViberEnabled",cc="roistat_multiwidgetViberLink",cj="roistat_onlineChatEnabled",z="roistat_onlineChatSettings",d=7*24*60*60,cq={expires:d,path:"/"},ac="roistat-promo",ai="roistat-phone",D="roistat-phone-country",ad="roistat-phone-region",G="roistat-phone-number",cO="roistat-phone-tel",bv="country",aD="region",a3="number",bH="tel",m="roistat_call_tracking",S="roistat-js-script",bf="roistat_phone_replacement",a4="roistat_phone_script_data",cn="roistat-visit-id",aM="roistat_metrika_counter_id",h="roistat_marker_from_referrer",be="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bs="roistat_emailtracking_emails",k="roistat_geo_data",aF="roistat_promo_code";
ROISTAT_PROXY_FORMS="roistat_proxy_forms",ROISTAT_IS_MULTI_DOMAIN="roistat_isMultiDomain",ADDITIONAL_PAGE_PARAM_LIST=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],ROISTAT_DEBUG_KEY="roistat_debug",ROISTAT_IS_SETTINGS_SAVED_COOKIE="roistat_settings_saved",ROISTAT_NO_VISIT_ID_COOKIE_VALUE="nocookie",IGNORED_HOSTS_FOR_CUSTOM_TAG=["yandex.ru"],COOKIE_BETA_TEST="beta_test",ROISTAT_SETTINGS_VERSION="roistat_settings_version",LEAD_HUNTER_FORM_TEMPLATE="roistat-leadhunter-form-template",LEAD_HUNTER_PULSATOR_TEMPLATE="roistat-leadhunter-pulsator-template",LEAD_HUNTER_PULSATOR_SETTINGS="roistat-leadhunter-pulsator-settings",ONLINE_CHAT_PULSATOR_TEMPLATE="roistat-online-chat-pulsator-template",ONLINE_CHAT_IFRAME_TEMPLATE="roistat-online-chat-iframe-template",MULTIWIDGET_PULSATOR_TEMPLATE="roistat-multiwidget-pulsator-template",MULTIWIDGET_PULSATOR_SETTINGS="roistat-multiwidget-pulsator-settings",SETTINGS_UPDATE_TIME_KEY="roistat_last_settings_update_time",STORAGE_KEY_AUTHORIZED_CLIENT="roistat_authorized_client",STORAGE_KEY_ROISTAT_PARAMS="roistat_params",MOBILE_DEVICE_NAME="mobile",TABLET_DEVICE_NAME="tablet",DESKTOP_DEVICE_NAME="desktop",MOBILE_MARKUP_BREAKPOINT=500,TABLET_MARKUP_BREAKPOINT=1024;var bB="ru",cT="en",Y,p;var cC=u.replace(/^cloud\./,"");var cy="cllctr."+cC;var bD={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bN={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var cp={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bT.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bT.roistatAlreadyStarted=true;if(bT.roistatCookieDomain){cq.domain=bT.roistatCookieDomain}bT.roistat={version:Q,getSource:function(){return bN.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){bN.visitFromUser=e},registerOnVisitProcessedCallback:function(e){b8(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bc(e)},disableCallTracking:function(){bD.callTrackingEnabled=false},setCallTrackingManualMode:function(){bD.callTrackingManual=true},setJSONPRequestTimeout:function(e){bD.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){s("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null,},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true,},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(e){at(e,bo)},authClientByEmail:function(e){at(bo,e)},setRoistatParams:function(da,c9,c7,c6,c5){var c3=K()+"/update-visit-by-params";if(!bN.isVisitProcessed){bk(c3,"RoistatParam was not updated because visit is not processed, roistatParam:"+encodeURIComponent(da));s("Visit is not processed, return");return}var c8=n();if(c8<=0){bk(c3,"RoistatParam was not updated because visitId <= 0, roistatParam:"+encodeURIComponent(da));s("Invalid arguments, return");return}bk(c3,"Start process for visit "+c8+", roistatParam: "+encodeURIComponent(da));var dc={roistat_param1:da,roistat_param2:c9,roistat_param3:c7,roistat_param4:c6,roistat_param5:c5};var dd=false;var de={};for(var dh in dc){if(!Object.prototype.hasOwnProperty.call(dc,dh)){continue}var dg=dc[dh];if(dg!==bo&&dg.length>0){de[dh]=dg;dd=true}}if(!dd){bk(c3,"Visit "+c8+" was not updated because none of RoistatParams are valid, roistatParam:"+encodeURIComponent(da));s("Has no valid roistat params for visit update, return");return}var df=STORAGE_KEY_ROISTAT_PARAMS;var db=bQ.get(df);var e=JSON.stringify(de);var di=db===e;if(di){s("Params already updated, return");return}bQ.set(df,e);c3+="?visit="+c8+"&v="+Q;for(var c4 in de){if(!Object.prototype.hasOwnProperty.call(de,c4)){continue}c3+="&"+c4+"="+encodeURIComponent(de[c4])}aK(c3)}};var at=function(e,c5){if(!bN.isVisitProcessed){s("Visit is not processed, return");return}var c6=e!==bo&&e.length>0,c9=c5!==bo&&c5.length>0;
if(!c6&&!c9){s("Invalid client params, return");return}var c7=n();if(c7<=0){s("Invalid arguments, return");return}var c8=STORAGE_KEY_AUTHORIZED_CLIENT,da=bQ.get(c8),c4=c6?e:c5;if(da===c4){s('Client "'+c4+'" is already authorized, return');return}s("Auth client: "+c4);bQ.set(c8,c4);var c3=K()+"/update-visit-by-client?visit="+c7+"&v="+Q;if(c6){c3+="&client_id="+encodeURIComponent(e)}if(c9){c3+="&client_email="+encodeURIComponent(c5)}aK(c3)};var cG=function(c5,c3){var c4=c5.length;for(var e=0;e<c4;e++){if(c3===c5[e]){return true}}return false};var W=function(){return i(COOKIE_BETA_TEST)>0};var w=function(){return bT.location.protocol+"//"+bT.location.host+bT.location.pathname};var B=function(){if(cY()){return MOBILE_DEVICE_NAME}if(cM()){return TABLET_DEVICE_NAME}return DESKTOP_DEVICE_NAME};var cY=function(){return bT.innerWidth<=MOBILE_MARKUP_BREAKPOINT};var cM=function(){return bT.innerWidth>MOBILE_MARKUP_BREAKPOINT&&bT.innerWidth<=TABLET_MARKUP_BREAKPOINT};var aQ=function(){return bT.roistatProjectId};var cb=function(){return aQ().replace(/\D/g,"")};var a6=function(e){var c3=cb();return cG(e,c3)};var ch=function(e){return JSON.parse(JSON.stringify(e))};var bi=function(){var c3=ch(cq),e=parseInt(bQ.get(cu));c3.expires=e>0?e:d;return c3};var b8=function(e){if(!bN.isVisitProcessed){cp.onVisitProcessed.push(e)}else{e()}};var ck=function(){bN.isVisitProcessed=true;s("[Roistat] visit id set. Processing callbacks");var c3=cp.onVisitProcessed.length;for(var e=0;e<c3;e++){cp.onVisitProcessed[e]()}if(bT.roistatVisitCallback!==bo){bT.roistatVisitCallback(bT.roistat.getVisit())}};var bc=function(e){cp.onCallTrackingPhoneReceived.push(e)};var cE=function(){var c3=cp.onCallTrackingPhoneReceived.length;for(var e=0;e<c3;e++){cp.onCallTrackingPhoneReceived[e]()}};var ao=function ao(e){cp.onSPAPageChanged.push(e)};var bK=function bK(){s("[Roistat] SPA page changed. Processing callbacks");var c3=cp.onSPAPageChanged.length;for(var e=0;e<c3;e++){cp.onSPAPageChanged[e]()}};var ae=function(c6,c5){var c4=c6.className.split(" "),c3=false,e;for(e=0;e<c4.length;e++){if(c4[e]===c5){c3=true;break}}if(!c3){c4.push(c5);c6.className=c4.join(" ")}};var bL=function(c5,c4){var c3=c5.className.split(" "),e;for(e=0;e<c3.length;e++){if(c3[e]===c4){c3.splice(e,1);c5.className=c3.join(" ");break}}};var au=function(c4){try{return decodeURIComponent(c4)}catch(c5){var c3;c3=v(c4);if(c3===null){return c4}return c3}};var bA={visitor_uid:function(){s("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!c1(bT.AMOPIXEL_IDENTIFIER)||!P(bT.AMOPIXEL_IDENTIFIER.getVisitorUid)){s("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aN(e)){s("AmoCrmUID: visitor_uid value must be a string");return null}return e}};var ar=function(){for(var c3 in bA){var e=bA[c3]();if(e===null){continue}cP(c3,e,cq)}};var a0=function(){return["_ym_uid","_ga"].concat(H(bA))};var v=function(c7){var c6={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var c4="";var c5=0;while(c5<c7.length){var c3=c7.substring(c5,c5+3);if(Object.prototype.hasOwnProperty.call(c6,c3)){c4+=c6[c3];c5+=3}else{c4+=c7.substring(c5,c5+1);c5++}}try{return decodeURIComponent(c4)}catch(c8){return null}};bT.roistatVersion=Q;var bg,b2=a6(["9418029803765486301","053353545780959565"]),aa=a6(["22296927710284928081","27072437079523370821","4897604717310987939","053353545780959565"]),cL=a6(["9701563045179624"]),j,b0=true,b6=E.location.href,a1="",aI="",a8=new Date().getTime(),cw=false,ce=bT.roistatPhonePrefix?bT.roistatPhonePrefix:"",cX=bT.roistatPhonePrefixBind?bT.roistatPhonePrefixBind:"",N=bT.roistatCalltrackingScripts&&bT.roistatCalltrackingScripts.join?bT.roistatCalltrackingScripts.join(","):"";var i,cP;i=bT.roistatGetCookie=function(e){var c3=E.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return c3?au(c3[1]):bo};cP=bT.roistatSetCookie=function(c5,c7,c4){c4=c4||{};var c3=c4.expires;if(typeof c3=="number"&&c3){var c9=new Date();c9.setTime(c9.getTime()+c3*1000);
c3=c4.expires=c9}if(c3&&c3.toUTCString){c4.expires=c3.toUTCString()}c7=encodeURIComponent(c7);var e=c5+"="+c7;for(var c6 in c4){e+="; "+c6;var c8=c4[c6];if(c8!==true){e+="="+c8}}E.cookie=e};var bn=function(c3,c5,c4){var e=c3[c5];c3[c5]=function(){if(e){e.apply(this,arguments)}c4.apply(this,arguments)}};var Z=function(c4,c3,c5){if(c4.addEventListener){c4.addEventListener(c3,c5,false);return}var e="on"+c3;if(c4.attachEvent){c4.attachEvent(e,c5);return}if(e in c4){bn(c4,e,c5);return}if(c3 in c4){bn(c4,c3,c5);return}s("Handler could not be attached")};var q=function(c5,c4){var c3=c5.length;for(var e=0;e<c3;e++){c4(c5[e])}};var H=function(e){var c3=[];a7(e,function(c4,c5){c3.push(c4)});return c3};var a7=function(e,c4){for(var c3 in e){if(Object.prototype.hasOwnProperty.call(e,c3)){c4(c3,e[c3])}}};var bd=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aE=function(c3){if(typeof c3!=="object"){return false}for(var e in c3){if(c3.hasOwnProperty(e)){return true}}return false};var cI=function(c4){try{var c3=JSON.parse(c4);if(c3&&typeof c3==="object"){return c3}}catch(c5){}return null};if(E.getElementsByClassName==bo){E.getElementsByClassName=function(c3){var e=[];var c7=new RegExp("\\b"+c3+"\\b");var c6=this.getElementsByTagName("*");for(var c5=0;c5<c6.length;c5++){var c4=c6[c5].className;if(c7.test(c4)){e.push(c6[c5])}}return e}}var av=function(){return String.fromCharCode};var cm=function(c4){var e="";for(var c3=0;c3<c4.length;++c3){e+=av()(co^c4.charCodeAt(c3))}return e};var aB=function(e){return encodeURIComponent(cm(bX.encode(e)))};var bX={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c4){var e="";var db,c9,c7,da,c8,c6,c5;var c3=0;c4=bX._utf8_encode(c4);while(c3<c4.length){db=c4.charCodeAt(c3++);c9=c4.charCodeAt(c3++);c7=c4.charCodeAt(c3++);da=db>>2;c8=((db&3)<<4)|(c9>>4);c6=((c9&15)<<2)|(c7>>6);c5=c7&63;if(isNaN(c9)){c6=c5=64}else{if(isNaN(c7)){c5=64}}e=e+this._keyStr.charAt(da)+this._keyStr.charAt(c8)+this._keyStr.charAt(c6)+this._keyStr.charAt(c5)}return e},decode:function(c4){var e="";var db,c9,c7;var da,c8,c6,c5;var c3=0;c4=c4.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c3<c4.length){da=this._keyStr.indexOf(c4.charAt(c3++));c8=this._keyStr.indexOf(c4.charAt(c3++));c6=this._keyStr.indexOf(c4.charAt(c3++));c5=this._keyStr.indexOf(c4.charAt(c3++));db=(da<<2)|(c8>>4);c9=((c8&15)<<4)|(c6>>2);c7=((c6&3)<<6)|c5;e=e+String.fromCharCode(db);if(c6!=64){e=e+String.fromCharCode(c9)}if(c5!=64){e=e+String.fromCharCode(c7)}}e=bX._utf8_decode(e);return e},_utf8_encode:function(c3){c3=c3.replace(/\r\n/g,"\n");var e="";for(var c5=0;c5<c3.length;c5++){var c4=c3.charCodeAt(c5);if(c4<128){e+=String.fromCharCode(c4)}else{if((c4>127)&&(c4<2048)){e+=String.fromCharCode((c4>>6)|192);e+=String.fromCharCode((c4&63)|128)}else{e+=String.fromCharCode((c4>>12)|224);e+=String.fromCharCode(((c4>>6)&63)|128);e+=String.fromCharCode((c4&63)|128)}}}return e},_utf8_decode:function(e){var c5="";var c7=0;var c8=0;var c6=0;var c4=0;while(c7<e.length){c8=e.charCodeAt(c7);if(c8<128){c5+=String.fromCharCode(c8);c7++}else{if((c8>191)&&(c8<224)){c6=e.charCodeAt(c7+1);c5+=String.fromCharCode(((c8&31)<<6)|(c6&63));c7+=2}else{c6=e.charCodeAt(c7+1);c4=e.charCodeAt(c7+2);c5+=String.fromCharCode(((c8&15)<<12)|((c6&63)<<6)|(c4&63));c7+=3}}}return c5}};var bj=function(){return E[av()(99,111,111,107,105,101)]};var ak=function(){cS();var e={c:cB()};return aB(JSON.stringify(e))};var ca=function(){var e=n();return(e===bo||e===null)?ROISTAT_NO_VISIT_ID_COOKIE_VALUE:e};var cB=function(){var e=[];for(var c3 in bN.cookies){if(!Object.prototype.hasOwnProperty.call(bN.cookies,c3)){continue}e.push(c3+"="+bN.cookies[c3])}return e.join("; ")};var cS=function(){var e=l();for(var c3 in e){if(!Object.prototype.hasOwnProperty.call(e,c3)){continue}bN.cookies[c3]=e[c3]}};var aj=function(e){cP(cx,e,bi());bN.source.marker=e};var af=function(){return i(cx)};var f=function(){a7(bT.roistat.page.params,function(c3,e){bN.pageParams[c3]=e})};var l=function(){var c5=bj();var c6=c5.split("; ");var e={};for(var c4=0;c4<c6.length;c4++){var c9=c6[c4];if(c9===""){continue}var c3=c9.split("=");if(c3.length<2){continue}var c8=c3[0].trim();var c7=c3[1].trim();e[c8]=c7}return e};var g=function(){return av()(104,97,115,104)};var aC=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bJ={isAvailable:function(){var c3=false;if(!bT.sessionStorage||!bT.sessionStorage.setItem||!bT.sessionStorage.getItem||!bT.sessionStorage.removeItem){return c3}try{bT.sessionStorage.setItem("testKey","testValue");c3=bT.sessionStorage.getItem("testKey")==="testValue";bT.sessionStorage.removeItem("testKey")}catch(c4){return false}return c3},remove:function(e){if(this.isAvailable()){bT.sessionStorage.removeItem(e)}},setObject:function(e,c3){if(this.isAvailable()){bT.sessionStorage.setItem(e,JSON.stringify(c3))}},getObject:function(c3){var e=null;if(this.isAvailable()){e=bT.sessionStorage.getItem(c3);
e=JSON.parse(e)}return e},set:function(e,c3){if(this.isAvailable()){bT.sessionStorage.setItem(e,c3)}},get:function(c3){var e=null;if(this.isAvailable()){e=bT.sessionStorage.getItem(c3)}return e}};var bQ={isAvailable:function(){var c3=false;if(!bT.localStorage||!bT.localStorage.setItem||!bT.localStorage.getItem||!bT.localStorage.removeItem){return c3}try{bT.localStorage.setItem("testKey","testValue");c3=bT.localStorage.getItem("testKey")==="testValue";bT.localStorage.removeItem("testKey")}catch(c4){return false}return c3},remove:function(c3){if(this.isAvailable()){bT.localStorage.removeItem(c3)}else{var e=new Date(1970,1,1);cP(c3,"",{expires:e.toUTCString()})}},setObject:function(e,c3){if(this.isAvailable()){localStorage.setItem(e,JSON.stringify(c3))}},getObject:function(c3){var e=null;if(this.isAvailable()){e=localStorage.getItem(c3);e=cI(e)}return e},set:function(e,c3){if(this.isAvailable()){localStorage.setItem(e,c3)}else{cP(e,c3,cq)}},save:function(c3,c4,e){if(this.isAvailable()){localStorage.setItem(c3,c4)}cP(c3,c4,e)},get:function(c3){var e=null;if(this.isAvailable()){e=localStorage.getItem(c3)}if(e===null){e=i(c3)}return e}};var bG=function(){return !bF(E.referrer)?E.referrer:null};var P=function(e){return typeof e==="function"};var c1=function(e){return typeof e==="object"};var aN=function(e){return typeof e==="string"};var T=function(c5,c4){c4=typeof c4!=="undefined"?c4:false;var c6=function(c9){var c8=null;var da=new RegExp("[#&?]("+c5+"=[^#&?]+)");if(da.test(c9)){c8=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var c7=au(c8);return c8&&c7?c7:c8};var e=c6(b6);if(c4){var c3=E.referrer;if(e===null&&c3){e=c6(c3)}}return e};var cA=function(c3,c4){var e=false;if(c3&&c4){e=c3.split(c4).join("")!==c3}return e};if(T(ROISTAT_DEBUG_KEY)==="1"||l()[ROISTAT_DEBUG_KEY]==="1"){bb=true}var cg=function(){var e="multiwidget_only";return T(e)==="1"||l()[e]==="1"};var az=function(){return cg()?bT.roistatMultiWidgetOnly:bT.roistatOnlineChatOnly};var cR=function(){var c3=aQ()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||aQ()==="4";var e=bT.location.host==="cloud.roistat.com"&&bT.location.pathname!=="/user/login"&&bT.location.pathname!=="/user/register";var c5=aQ()==="349ac99f64416756d4a18e91c71dc95f";var c4=bT.location.host==="datyson.ru"&&bT.location.pathname==="/cloud.html";if((c3&&!e)||(c5&&!c4)){s("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var aV=function(){if("https:"===E.location.protocol){return"https:"}else{return"http:"}};var O=function(c3){var e=E.createElement("img");e.src=c3;s("sendRequestByUrl: "+c3)};var aK=function(c3){s("sendApiRequestJSONP: init with url "+c3);var e=E.createElement("script");e.onload=e.onreadystatechange=function(){var c5=this.readyState?this.readyState:"unknown";s("sendApiRequestJSONP: script state changed to "+c5)};e.src=c3;e.type="text/javascript";e.async=true;var c4=E.getElementsByTagName("script")[0];c4.parentNode.insertBefore(e,c4);s("sendApiRequestJSONP: script appended")};var b4=function(){var c3=E.createElement("link"),e=E.getElementsByTagName("head");c3.setAttribute("rel","stylesheet");c3.setAttribute("href",aV()+"//"+u+"/dist/module.css?"+Q);if(e.length>0){e[0].appendChild(c3)}};var bW=function(){return bZ()||cZ()};var bZ=function(){return a2()!==null};var cZ=function(){return bS()!==null};var cv=function(){var e=cs();if(e!==null){cP(bM,e,bi())}};var cs=function(){return a2()||bS()||null};var a2=function(){return T("roistat_visit")};var bS=function(){return bN.visitFromUser};var a=function(c3,e){if(!e&&(bN.isSettingsUpdating||!E.hasFocus())){s("Already updating settings or document not in focus, return");return}var c4=K()+"/get-settings?v="+Q+"&visit="+c3;s("Request new settings");bN.isSettingsUpdating=true;aK(c4)};var aG=function(){return bQ.get(ROISTAT_IS_SETTINGS_SAVED_COOKIE)>0};var cJ=function(){bQ.set(ROISTAT_IS_SETTINGS_SAVED_COOKIE,1)};var aq=function(){bQ.remove(LEAD_HUNTER_FORM_TEMPLATE);bQ.remove(LEAD_HUNTER_PULSATOR_TEMPLATE);bQ.remove(LEAD_HUNTER_PULSATOR_SETTINGS);bQ.remove(ONLINE_CHAT_PULSATOR_TEMPLATE);bQ.remove(ONLINE_CHAT_IFRAME_TEMPLATE);bQ.remove(cj);bQ.remove(MULTIWIDGET_PULSATOR_TEMPLATE);bQ.remove(MULTIWIDGET_PULSATOR_SETTINGS)};var bO=function(){var c6=function(){return bQ.get(ROISTAT_SETTINGS_VERSION)};var c5=function(){bQ.set(ROISTAT_SETTINGS_VERSION,y)};var c3=function(){return typeof c6()==="string"};var e=function(){var c7=Number(c6())>y;s("Settings Version: settings version change status - "+c7);return c7};var c4=function(){var c7=1000*60*60*24;var da=cF();var c9=bV()-da;var c8=c9>c7;s("Settings Version:: expiration day check: lastUpdateTime="+da+", _lastUpdateTimeDiff="+c9+", _oneDayDiffInMs="+c7+", result="+(c8?1:0));return c8};if(!c3()){s("Settings Version: set settings version up to 1");c5()}if(c4()||e()){s("Settings Version: clear settings");aq()}};var cU=function(){s("Call: Init");s("Counter version: "+Q);if(T("roistat_ab_demo")==="1"){s("Roistat initialisation rejected: ab test preview mode");
return}b4();a5();cf();if((!ah()||c0())&&!az()){cw=true;bq()}else{bO();cv();var e=n();bw();aT();ct();roistat.visit=e;bN.source.marker=af();bT.roistat.geo=bQ.getObject(k);var c3=aG();if(!c3){a(e)}else{ck()}}};var I=function(c4){if(!c4.isEnabled){return true}var e=new Date();var db=new Date().toISOString();var c8=e.getUTCDay()===0?7:e.getDay();var c9=c8===6||c8===7;var c7=new Date(c4.weekdaysTime.from).toISOString();var c3=new Date(c4.weekdaysTime.to).toISOString();var dc=new Date(c4.weekendsTime.from).toISOString();var c5=new Date(c4.weekendsTime.to).toISOString();var da=false;for(var c6=0;c6<c4.days.length;c6++){if(c8===c4.days[c6]){da=true}}if(!da){return false}if(c9){return db>=dc&&db<=c5}return db>=c7&&db<=c3};var a5=function(){s("Call: initMarker");bg=bY();s("Call: inited marker: "+bg)};var cf=function(){s("Call: initReferrer");j=bG();s("Call: end initReferrer: "+j)};var bF=function(c4){if(!c4){return true}var e=aU(c4);var c3=aU(E.domain);if(e===c3){return true}var c5=bC();if(c5===null){return false}if(cA(e,c5)&&cA(c3,c5)){return true}return false};var bC=function(){if(typeof cq.domain==="string"&&cq.domain!==""){return aU(cq.domain)}return null};var aU=function(e){var c3=e.split("http://").join("").split("https://").join("").split("www.").join("");return c3.split("/")[0]};var bY=function(){var c7=i(h)>0;var c9=null;var c4=function(dc){return dc.split("_").join(":u:")};var db=function(dd){var dc=false;q(IGNORED_HOSTS_FOR_CUSTOM_TAG,function(de){if(dd.indexOf(de)>-1){dc=true}});return dc};var da=function(){var dc=false;var dd;dd=T(F,c7);x("Full marker: "+dd);if(dd!==null){c9=dd;dc=true}dd=T(cd,c7);x("Short marker: "+dd);if(dd!==null){c9=dd;dc=true}return dc};var c5=function(){var dc=false;var dd=af();if(dd){c9=dd;dc=true;b0=false}return dc};var c3=function(){var dc=false;var de=T("utm_source",c7);if(de!==null){dc=true;c9=":utm:"+c4(de);var dg=["utm_medium","utm_campaign","utm_content","utm_term"];var dd;for(var df=0;df<dg.length;df++){dd=T(dg[df],c7);if(dd!==null){c9=c9+"_"+c4(dd)}}}return dc};var c6=function(){var de,dd,dc=false;dd=T("_openstat",c7);if(!dd){return false}if(c8(dd)){de=dd}else{de=encodeURI(bX.decode(dd));if(!c8(de)){de=dd}}if(de){de=c4(de).split(";").join("_");c9=":openstat:"+de;dc=true}return dc};var c8=function(dc){return dc.match(/^([^;]*(;[^;]*){3})$/)!==null};var e=function(){var dc=false;var dd=E.referrer;if(bF(dd)){return dc}var de=T("from",c7);if(de!==null&&!cA(de,"http")){if(!db(de)){dc=true;c9=c4(de)}}return dc};if(da()){s("Init marker: init from RS param "+c9);return c9}if(c3()){s("Init marker: init from UTM "+c9);return c9}if(c6()){s("Init marker: init from OpenStat "+c9);return c9}if(e()){s("Init marker: init from custom tag "+c9);return c9}s("Init marker: try init from cookie "+c9);c5();return c9};var n=function(){return bQ.get(bM)};var U=function(){s("Call: saveReferrer");bQ.set(aw,j)};var bI=function(){s("Call: removeReferrer");bQ.remove(aw)};var cH=function(){cP(aZ,au(bg),bi())};var ct=function(){s("Call: refreshPromoCode");if(az()){s("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return i(bM)};an(e());if(!bT.onload){bT.onload=function(){an(e())}}setTimeout(function(){an(e())},50);setTimeout(function(){an(e())},200);setTimeout(function(){an(e())},2000);setTimeout(function(){an(e())},10000)};bT.roistatPromoCodeRefresh=ct;var cK=function(){var e=[];var c3=E.getElementsByClassName(ac);if(c3&&c3.length){e=c3}return e};var an=function(e){var c5=cK();s("setPromoCode: "+e+" in "+c5.length+" elements");for(var c4=0;c4<c5.length;c4++){var c3=c5[c4];c3.innerHTML=e?e:""}};var bt=function(){var c4=bY(),c3=i(aZ),c6=c4!==null,c5=true;var c8=au(au(c4)).toLowerCase().split("+").join(" "),c7=au(au(c3)).toLowerCase().split("+").join(" ");if(c4&&c3){c5=c8!==c7}var e=c6&&c5;aI="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+c4+":"+c8+" and old "+c3+":"+c7;s(aI);return e};var aA=function(){var c3=function(db){return/[\u0400-\u04FF]/.test(db)};var da=false,c7=j,e=bQ.get(aw),c9=bT.location.host;if(!c7||!c9){s("Call: needOverrideByReferrer (result "+(da?"true":"false")+"), skip because one of params is empty");return da}c9=aU(c9);c7=au(c7);e=au(e);var c5=aU(c7);if(cA(c7,"xn--")&&c3(c9)){s("Call: needOverrideByReferrer (result "+(da?"true":"false")+"), skip because of bugs with punycode in FF");return da}if(!c5){s("Call: needOverrideByReferrer (result "+(da?"true":"false")+"), skip because current referrer is null");return da}if(!e){da=!cA(c5,c9);s("Call: needOverrideByReferrer (result "+(da?"true":"false")+"), compare current referrer and host");return da}if(cA(c7,e)){s("Call: needOverrideByReferrer (result "+(da?"true":"false")+"), skip because the same referrer");return da}var c8=c9.split(".").length>2&&c5.split(".").length>2;var c6=bT.roistatCookieDomain!==bo&&bT.roistatCookieDomain!==c9;var c4=c5.split(".").slice(1).join(".")===c9.split(".").slice(1).join(".");if(c8&&c6&&c4){s("Call: needOverrideByReferrer (result "+(da?"true":"false")+"), skip because sub domains of same domain");
return da}da=!(cA(c5,c9)||(cA(c9,c5)));s("Call: needOverrideByReferrer (result "+(da?"true":"false")+") referrerHost: "+c5+", currentHost: "+c9);return da};var bx=function(){return T("utm_nooverride")==="1"};var c0=function(){return !bW()&&!bx()&&(bt()||aA())};var by=function(c3,e){return(c3&&e&&c3!=e)};var aX=function(c4){var e=["cookieExpire"];var c6=c4.leadHunterEnabled;if(Number(bQ.get(bp))!==Number(c4.leadHunterEnabled)){bQ.set(bp,Number(c4.leadHunterEnabled))}if(c6){var c5={expires:L,path:"/"};if(cq.domain){c5.domain=cq.domain}cP(V,1,c5)}for(var c3 in c4){if(!Object.prototype.hasOwnProperty.call(c4,c3)){continue}if(!c6&&c3.indexOf("leadHunter")>=0&&c3.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!am(e,c3)){bQ.set("roistat_"+c3,c4[c3])}}};var cr=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(bQ.get(aW))!==Number(e.is_enabled)){bQ.set(aW,Number(e.is_enabled))}if(Number(bQ.get(bE))!==Number(e.vk.is_enabled)){bQ.set(bE,Number(e.vk.is_enabled))}if(bQ.get(cl)!==roistat.multiwidget.vk.link){bQ.set(cl,roistat.multiwidget.vk.link)}if(Number(bQ.get(M))!==Number(e.fb.is_enabled)){bQ.set(M,Number(e.fb.is_enabled))}if(bQ.get(cD)!==roistat.multiwidget.fb.link){bQ.set(cD,roistat.multiwidget.fb.link)}if(Number(bQ.get(b9))!==e.telegram.is_enabled){bQ.set(b9,Number(e.telegram.is_enabled))}if(bQ.get(ba)!==roistat.multiwidget.telegram.link){bQ.set(ba,roistat.multiwidget.telegram.link)}if(Number(bQ.get(ci))!==e.whats_app.is_enabled){bQ.set(ci,Number(e.whats_app.is_enabled))}if(bQ.get(bm)!==roistat.multiwidget.whatsApp.link){bQ.set(bm,roistat.multiwidget.whatsApp.link)}if(Number(bQ.get(c2))!==e.viber.is_enabled){bQ.set(c2,Number(e.viber.is_enabled))}if(bQ.get(cc)!==roistat.multiwidget.viber.link){bQ.set(cc,roistat.multiwidget.viber.link)}};var bU=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(bQ.get(cj))!==Number(e.is_enabled)){bQ.set(cj,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;bQ.setObject(z,e.advanced_settings)};var t=function(e){bT.roistat.geo=e;bQ.setObject(k,e)};var b5=function(e){s("PromoCode: save settings");bQ.setObject(aF,e)};var cV=function(c6,c8,c5,c3,c7,e,c9,c4){aX(c6);roistat.callTracking.enabled=c8.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=c5.email;roistat.emailtracking.trackingEmail=c5.trackingEmail;roistat.emailtracking.emails=c5.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=c7;cr(e);bU(c9);t(c3);b5(c4)};bT.roistatModuleSetVisitCookie=function(c7,df,c5,c3,de,da,e,dh,c9,dg){s("Call: roistatModuleSetVisitCookie("+c7+")");var db;if(typeof c5.cookieExpire!=="number"){db=bi().expires}else{db=c5.cookieExpire}var c8=i(bM);var dd={expires:db,path:"/"};if(cq.domain){dd.domain=cq.domain}cP(bM,c7,dd);if(!(i(bM)>0)){bQ.save(bM,c7,dd)}if(!bQ.get(aL)){var c4={expires:10*365*24*60*60,path:"/"};if(cq.domain){c4.domain=cq.domain}bQ.save(aL,c7,c4)}var dc=c5.abTests;if((typeof dc!=="undefined")&&bQ.isAvailable()){bQ.setObject("abTesting",dc)}applyTests();var c6=c5.isNeedToListenRequests;if((typeof c6!=="undefined")&&bQ.isAvailable()){bQ.set(ag,c6)}an(c7);if(df){aj(df);cP(aZ,df,dd)}if(bT.roistatCallback!==bo){bT.roistatCallback(c7,df)}if(!dh){dh={}}cV(c5,c3,de,da,e,dh.multiwidget_settings,c9,dg);roistat.callTracking.phone=c3.phone;roistat.callTracking.sessionTime=c3.sessionTime;roistat.callTracking.replacementClasses=c3.replacementClasses;roistat.callTracking.phoneScriptsJson=c3.scripts;roistat.visit=c7;s("Call: pre renderPromoCode");aT();ct();if(by(c8,c7)){s("roistatModuleSetVisitCookie: visit changed from "+c8+" to "+c7)}cE();cJ();ck()};bT.roistatUpdateSettings=function(e){s("Set settings.");bN.isSettingsUpdating=false;cV(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);cJ();ck()};var ah=function(){var e;if(bT.roistatIsInitVisit===true){e=false}else{e=i(bM)>0}s("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var aP=function(){return j?c(j):""};var K=function(){return aV()+"//"+u+"/api/site/"+ab+"/"+aQ()};var b1=function(){var e={expires:1,path:"/"};if(cq.domain){e.domain=cq.domain}cP(bh,"",e)};var bq=function(){s("Call: setVisitIdCookie");var c3=function(){var db=aQ(),c8=aP(),c5=bT.roistatIsInitVisit===true?n():0,da=i(bh),c6=bQ.get(aL);
da=da?da:"";c6=c6?c6:"";bg=bg&&(!aA()||b0)?au(au(bg)):"";var c9=encodeURIComponent(b6);s("Calltracking: enabled="+bD.callTrackingEnabled+",manual="+bD.callTrackingManual);var c7=JSON.stringify(bT.roistat.page.params);return K()+"/addVisit?v="+Q+"&marker="+encodeURIComponent(bg)+"&visit="+c5+"&first_visit="+c6+"&phone_prefix="+ce+"&phone_prefix_bind="+cX+"&phone_scripts_bind="+N+"&referrer="+c8+"&page="+c9+"&ab="+c(da)+"&"+g()+"="+ak()+(c7==="{}"?"":"&page_params="+encodeURIComponent(c7))+((!bD.callTrackingEnabled||bD.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(c5){setTimeout(function(){s("Call: setVisitIdCookie script creation after timeout");var c6=E.createElement("script");c6.onload=c6.onreadystatechange=function(){var c8=this.readyState?this.readyState:"unknown";s("Call: setVisitIdCookie script state changed to "+c8)};c6.src=c5;c6.type="text/javascript";c6.async=true;c6.id=S;var c7=E.getElementsByTagName("script")[0];c7.parentNode.insertBefore(c6,c7);s("Call: setVisitIdCookie appended "+((E.getElementById(S))?"true":"false"));s("Call: sendJSONPRequest to URL "+c5);b1()},bD.jsonpRequestTimeout)};if(bg){aj(bg);cH()}ar();var c4=c3();e(c4);j?U():bI()};var bw=function(){s("Call: sendAbTests");var c3=function(){var c7=aQ(),c6=i(bM);return aV()+"//"+u+"/site-api/"+ax+"/"+c7+"/visit/"+c6+"/addAbVariant"};var c4=i(bh);if(!c4){return}var c5=c3();c5=c5+"?ab="+c(c4);var e=E.createElement("img");e.src=c5;b1()};var aH={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(aH.Android()||aH.BlackBerry()||aH.iOS()||aH.Opera()||aH.Windows())}};var aO={isIE:function(c4,c6){var c7="IE",c3=E.createElement("B"),e=E.documentElement,c5;if(c4){c7+=" "+c4;if(c6){c7=c6+" "+c7}}c3.innerHTML="<!--[if "+c7+']><b id="iecctest"></b><![endif]-->';e.appendChild(c3);c5=!!E.getElementById("iecctest");e.removeChild(c3);return c5}};var bV=function(){return new Date().getTime()};var cF=function(){return bQ.get(SETTINGS_UPDATE_TIME_KEY)};var X=function(){var e="";bT.onerror=function(c8,c7,c4,c6,c5){var c3=!c6?"":", column: "+c6;c3+=!c5?"":", error: "+c5;e=e+", Error: "+c8+", url: "+c7+", line: "+c4+c3};setTimeout(function(){var da=false,db="";var c6=cK();for(var c9=0;c9<c6.length;c9++){var c5=c6[c9];if(c5!==null&&!c5.innerHTML){da=true;db="Promo HTML: "+c5.innerHTML}}if(!(i(bM)>0)){da=true;db=db+"; roistat_visit = "+i(bM)}if(da){var c4=E.getElementById(S);var c3=c4?1:0;var c7=bT.navigator.userAgent;db=encodeURIComponent(db);var c8=E.createElement("img");c8.src=aV()+"//"+u+"/site-api/"+ax+"/"+aQ()+"/debug?message="+db+"&agent="+c7+"&"+g()+"="+ak()+"&jserror="+e+"&scriptResponse="+c3+"&version="+Q+"&debug="+a1}},20000)};var bl=function(){var c4=E.getElementsByTagName("body");var c5=E.documentElement;var c3=0,c6=0;if(c4.length){var e=c4[0];c3=bT.innerWidth||c5.clientWidth||e.clientWidth;c6=bT.innerHeight||c5.clientHeight||e.clientHeight}else{c3=bT.innerWidth||c5.clientWidth;c6=bT.innerHeight||c5.clientHeight}return{width:c3,height:c6}};var aT=function(){var c8=E.getElementsByClassName("roistat-promo-wrap");if(c8.length){s("PromoCode: old promo code length - exit");return}if(az()){s("PromoCode: Shut down because only online chat need to be inited");return}var c7=bQ.getObject(aF);if(c7&&c7.hasOwnProperty("is_enabled")){bT.roistat.promoCode.isEnabled=c7.is_enabled;s("PromoCode: set is_enabled from storage")}var c5=function(){var df=E.createElement("div");df.innerHTML=roistatPromoCode;var dd=E.getElementsByTagName("body");if(dd.length){dd[0].appendChild(df)}s("PromoCode: appended to body "+roistatPromoCode.length);var de=E.getElementsByClassName("roistat-promo-wrap")[0];if(!de){s("PromoCode: roistat-promo-wrap not found, skip");return}var dc=de.style;var da,db,c9;setInterval(function(){da=bl();db=de.offsetWidth;c9=de.offsetHeight*2;switch(roistatPosition){case"top_left":dc.left=0;dc.top=0;break;case"top":dc.left=((da.width-db)/2)+"px";dc.top=0;break;case"top_right":dc.right=0;dc.top=0;break;case"left":dc.left=0;dc.top=((da.height-c9)/2)+"px";break;case"right":dc.right=0;dc.top=((da.height-c9)/2)+"px";break;case"bottom_left":dc.left=0;dc.bottom=0;break;case"bottom":dc.left=((da.width-db)/2)+"px";dc.bottom=0;break;case"bottom_right":dc.right=0;dc.bottom=0;break;default:dc.left=0;dc.top=0}},500)};var e=bQ.getObject("promo_code_options");if(e){s("PromoCode: options already set");bT.roistatPromoCode=e.template;bT.roistatPosition=e.position;c5()}else{if(!bT.roistat.promoCode.isEnabled){s("PromoCode: is not available, skip");return}var c6=E.getElementsByTagName("head")[0]||E.documentElement;var c4=E.createElement("script");c4.src=aV()+"//"+u+"/site-api/"+ax+"/"+aQ()+"/getPromoCode";c6.insertBefore(c4,c6.firstChild);s("PromoCode: loading started");
var c3=false;c4.onload=c4.onreadystatechange=function(){if(!c3&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){c3=true;c4.onload=c4.onreadystatechange=null;if(c6&&c4.parentNode){c6.removeChild(c4)}}if(!c3){return}s("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){s("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};bQ.setObject("promo_code_options",e);c5()}}};var am=function(c3,c4){for(var e=0;e<c3.length;e++){if(c3[e]===c4){return true}}return false};var s=function(c3){var c4=bV()-a8;var e="["+(c4/1000)+"s] "+c3;a1=a1+"; "+e;if(typeof console!=="undefined"&&console.log&&bb){console.log(e)}};var bk=function(e,c3){if(!b2){return}aK(e+(c3!==""?"?log="+encodeURIComponent(c3):""))};var C=function(e){if(!aa||e===""){return}cN(e)};var x=function(e){if(!cL){return}var c3="Visit: "+bT.roistat.getVisit()+" Current url: "+E.location.href+" "+e;cN(c3)};var cN=function(c3){var e=K()+"/log?log="+encodeURIComponent(c3);aK(e)};var ay=function ay(){var c6=bT.onpopstate;var c7=bT.history.pushState;var e=bT.history.replaceState;Z(bT,"popstate",function c5(c8){s("[Roistat]: popstate event catch");bK();if(W()&&typeof c6==="function"){c6(c8)}});Z(bT.history,"pushState",function c4(c9,da,c8){s("[Roistat]: pushState event catch");bK();if(W()&&typeof c7==="function"){c7.apply(this,[c9,da,c8])}});Z(bT.history,"replaceState",function c3(c9,da,c8){s("[Roistat]: replaceState event catch");bK();if(W()&&typeof e==="function"){e.apply(this,[c9,da,c8])}})};(function bu(){ay();if(bT.onRoistatModuleLoaded!==bo&&typeof bT.onRoistatModuleLoaded==="function"){bT.onRoistatModuleLoaded()}})();var br=function(c3){var c8=function(df,dd){var dc;if(cA(dd,"*")){var de=new RegExp(dd.split("*").join(".*"));dc=de.test(df)}else{dc=df===dd}s("LeadHunter: compare current: "+df+", setting: "+dd+" with result = "+(dc?1:0));return dc};var e=bT.location.href,c5=false,c4=false,da="",c6=0,c9;c9=c3?c3.split(","):[];if(!e||c9.length===0){c5=true}else{da=aC(e);var db;for(var c7=0;c7<c9.length;c7++){db=c9[c7].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(db)){if(c8(da,db.split(/^!/).join(""))){c4=true;break}}else{c6++;if(c8(da,db)){c5=true;break}}}}if(c4){s('LeadHunter: current page "'+da+'" is disabled by list');return false}if(!c5&&c6>0){s('LeadHunter: current page "'+da+'" is not listed');return false}s('LeadHunter: current page "'+e+'", cleaned: "'+da+'" is not disabled in '+c9.length+" list of pages");return true};try{cU()}catch(b3){C(b3)}(function aS(){var dp="empty",c8=false,c3=true,dh=false;var dl={roistat_visit:i(bM),marker:bg,user_agent:bT.navigator.userAgent,current_page:{title:E.title,href:bT.location.protocol+"//"+bT.location.host+bT.location.pathname,},};var dq=function(du,dt,ds){if(du.addEventListener){du.addEventListener(dt,ds,false)}else{if(du.attachEvent){du.attachEvent("on"+dt,ds)}else{s("Handler could not be attached")}}};var dj=function(du,ds){if(du===bo||typeof ds!=="string"||ds.length===0){return}var dt=du.getElementsByClassName(ds);if(dt===bo||dt.length===0){return}return dt[0]};var dr=function(ds){return typeof ds==="object"&&ds!==null};var c9=function(ds,du,dt){if(dr(ds)){if(dt){ds.classList.add(du);return}ds.classList.remove(du)}};var dm={leadHunter:function(){var fe="roistat-lh-form",dQ="roistat-lh-form",fh="roistat-lh-head-text",d4="roistat-lh-head",dM="roistat-lh-thank-you",ev="roistat-lh-thank-you",dx="roistat-lh-close",dy="roistat-lh-submit",ed="roistat-lh-hidden",eT="roistat-lh-wrap",dS="roistat-lh-popup-wrapper",eu="roistat-lh-popup",fg="roistat-lh-agreement",eq="roistat-lh-agreement roistat-lh-mobile",fv="roistat-lh-agreement-input",e5="roistat-lh-agreement-link",ds="roistat-lh-agreement-doc",fa="roistat-lh-alert-row",eC="roistat-lh-agreement",ep="roistat-lh-popup-iframe",eE="roistat_leadHunterUrl",e7="roistat_leadHunterAppearanceUrl",eh="roistat_leadHunterTargetPagesList",dL="roistat_leadHunterCaught",eL="roistat_leadHunterMinTime",d8="roistat_leadHunterAutoShowTime",eI="roistat_leadHunterPulsatorEnabled",d2="roistat_leadHunterScriptsCaught",fw="roistat_leadHunterScriptsShownCount",en="roistat-lh-load-done",dR="roistat-lh-close-modal",eV="roistat-lh-script-settings",eU="roistat-lh-setting-size",fb="roistat-lh-before-submit",eF="roistat-lh-before-submit-done",fj="roistat-lh-after-submit",eY="roistat-lh-event-data",eZ="roistat-lh-translate-form",ft={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var dK=0.3,dW=0.001,dN=false,dZ=0,dU=0,d0=0,fl=0,dY=0,ee=false,dC=false,dX,e9,ex,eD,eS,d3,fu,fp,e6,fs,dG,fm,eP,ey,eo,dJ,dv,ec,d1,d9,e3,fc,d6,ff,fk,eg;var fo={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var fi=function(fA){var fz=encodeURIComponent?encodeURIComponent:encodeURI;return fz(fA)};var eX=function(){if(!bT.roistat.leadHunter.isEnabled){return false
}if(bT.roistatLeadHunterInited){return false}bT.roistatLeadHunterInited=true;if(bQ.get(bp)<1){s("LeadHunter: disabled");return false}return true};var eb=function(){dv=bQ.get(eE);if(!dv){s("LeadHunter: not active cause of empty url");return false}ec=bQ.get(e7);fl=bQ.get(eL);dY=bT.roistat.leadHunter.form.autoShowTime===null?bQ.get(d8):bT.roistat.leadHunter.form.autoShowTime;c8=bQ.get(eI)==1;du();return true};var ej=function(){return bQ.get(dL)>0};var du=function(){if(!(i(V)>0)){s("LeadHunter: not active, expired for this visit");ee=true}};var dD=function(fz){d9=e3.src;var fA={version:Q,additionalNotifyEmail:bT.roistat.leadHunter.additionalNotifyEmail,projectKey:aQ(),language:Y,visitId:ca(),moduleTargetOrigin:bT.location.origin,referrer:bT.location.href,windowWidth:bT.innerWidth||0,iframeWrapperWidth:eD.offsetWidth||0,sendRequestUrl:bQ.get(eE),message:en};e3.contentWindow.postMessage(fA,d9);eK();if(fz){s("Beta Test on, iframe fired, rise up iframe show count state");dw()}};var em=function(){dC=true;dB("click");dD();eR()};var dA=function(){var fz=bT.location.hash;if(!fz){return}if(cA(fz,"roistat-lead-hunter")){em()}};var ek=function dI(){s("LeadHunter: binding timeout");if(ee){s("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(dN){s("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(dY>0){var fz=(dZ-bV())+dY*1000;s("LeadHunter: binding timeout with delay "+fz+" ms");clearTimeout(fo.timeoutId);fo.timeoutId=setTimeout(function(){s("LeadHunter: form auto activate with autoTime = "+dY);if(!dN){s("LeadHunter: show by timeout");dC=true;dB("auto");dD(true);eR()}},fz)}else{s("LeadHunter: auto show time is not positive, feature disabled")}};var e8=function(){e6.onclick=eS.onclick=eA;fs.onclick=ef;if(dr(fm)){dq(fm,"click",er)}if(dr(eP)){dq(eP,"change",fx)}var fA=E.getElementsByClassName("roistat-lh-input");if(Array.isArray(fA)){for(var fD=0;fD<fA.length;fD++){dq(fA[fD],"keyup",function(fF){fF=fF||event;var fE=(fF.keyCode?fF.keyCode:fF.which);if(fE==13){ef()}})}}var fB=bT.onresize;bT.onresize=function(fE){if(fB){fB(fE)}fd(fE)};if(!ee){var fz=E.onmouseout;E.onmouseout=function(fE){if(fz){fz(fE)}eO(fE)}}if(c8&&!dg()&&dr(dX)){dX.onmouseover=function(){ae(dX,"roistat-lh-pulsator-hover")};dX.onmouseout=function(){bL(dX,"roistat-lh-pulsator-hover")};dX.onclick=function(){em()}}var fC=bT.onhashchange;bT.onhashchange=function(){if(fC){fC.apply(this,arguments)}dA()}};var fr=function(){if(c8&&!dg()&&dr(dX)){dX.onmouseover=function(){ae(dX,"roistat-lh-pulsator-hover")};dX.onmouseout=function(){bL(dX,"roistat-lh-pulsator-hover")};dX.onclick=function(){em()}}eS.onclick=eA;e3=E.getElementById(ep);if(dr(e3)){dq(e3,"load",function(){dD();fn()})}var fA=bT.onresize;bT.onresize=function(fC){if(fA){fA(fC)}fd(fC)};if(!ee){var fz=E.onmouseout;E.onmouseout=function(fC){if(fz){fz(fC)}if(!W()){s("ShowLimit: Beta Test off, check cursor usually");eO(fC)}else{s("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!eQ()&&!dV()){s("ShowLimit: Check cursor allowed");eO(fC,true)}}}}var fB=bT.onhashchange;bT.onhashchange=function(){if(fB){fB.apply(this,arguments)}dA()}};var ez=function(fA){var fz=E.getElementsByClassName(fA);if(fz.length>0){return fz[0]}else{return null}};var ew=function(){var fC=ez("roistat-lh-title");if(dr(fC)&&roistat.leadHunter.form.title){fC.innerHTML=roistat.leadHunter.form.title}var fA=ez("roistat-lh-sub-title");if(dr(fA)&&roistat.leadHunter.form.subTitle){fA.innerHTML=roistat.leadHunter.form.subTitle}var fB=ez("roistat-lh-thank-you");if(dr(fB)&&roistat.leadHunter.form.thankYouText){fB.innerHTML=roistat.leadHunter.form.thankYouText}var fE=ez("roistat-lh-submit");if(dr(fE)&&roistat.leadHunter.form.buttonText){fE.value=roistat.leadHunter.form.buttonText}var fD=ez("roistat-lh-text-label-name");if(dr(fD)&&roistat.leadHunter.form.nameLabel){fD.innerHTML=roistat.leadHunter.form.nameLabel}var fz=ez("roistat-lh-text-label-contact");if(dr(fz)&&roistat.leadHunter.form.contactLabel){fz.innerHTML=roistat.leadHunter.form.contactLabel}};var dT=function(fA,fE,fD){var fz;if(!fA){s("LeadHunter: deactivating, empty form")}else{s("LeadHunter: rendering hidden form")}eS=E.createElement("div");eD=E.createElement("div");eD.innerHTML=fA;eS.className=ed;eD.className=ed;if(fE&&c8&&fD&&!dg()){var fB=typeof fD.position==="string"&&fD.position!==""?fD.position:"bottomRight";fz=E.createElement("div");fz.innerHTML=fE;dX=fz.childNodes.item(0);e9=dX.childNodes.item(1);ex=dX.childNodes.item(2).childNodes.item(0);e9.setAttribute("style","background: "+fD.button.background+";");ex.setAttribute("style","fill: "+fD.button.color+";");dX.setAttribute("style","bottom: "+ft[fB].bottom+";right:"+ft[fB].right+";");fo.pulsator.previousClass=dX.className;dX.className=ed;E.body.appendChild(dX)}E.body.appendChild(eS);E.body.appendChild(eD);d3=E.getElementById(d4);fu=E.getElementById(dQ);fp=E.getElementById(ev);e6=E.getElementById(dx);fs=E.getElementById(dy);dG=E.getElementById(fg);eP=E.getElementById(fv);fm=E.getElementById(e5);
ey=E.getElementById(ds);eo=E.getElementById(fa);dJ=E.getElementById(eC);var fC=ez(dS);d1=dr(fC)&&fC.getAttribute("data-is-iframe");if(d1){fr()}else{ew();e8();dA();fn()}};var fq=function(fB){var fA=fB.button&&fB.button.background&&fB.button.color;if(!fA){return}bQ.setObject(LEAD_HUNTER_PULSATOR_SETTINGS,eg);var fz=typeof fB.position==="string"&&fB.position!==""?fB.position:"bottomRight";if(dr(e9)){e9.setAttribute("style","background: "+fB.button.background+";")}if(dr(ex)){ex.setAttribute("style","fill: "+fB.button.color+";")}if(dr(dX)){dX.setAttribute("style","bottom: "+ft[fz].bottom+";right:"+ft[fz].right+";")}};var dH=function(){var fz=bQ.get(LEAD_HUNTER_FORM_TEMPLATE),fB=bQ.get(LEAD_HUNTER_PULSATOR_TEMPLATE),fA=bQ.getObject(LEAD_HUNTER_PULSATOR_SETTINGS);dT(bX.decode(fz),bX.decode(fB),fA)};var ei=function(){var fA=eD.clientWidth,fz=eD.clientHeight;if(dr(eD)){eD.setAttribute("style",eD.getAttribute("style")+" width: "+fA+"px; height: "+fz+"px;")}if(dr(fu)){fu.className=ed}if(dr(d3)){d3.className=ed}if(dr(dG)){dG.className=ed}if(dr(fp)){fp.setAttribute("style","width: "+fA+"px; height: "+fz+"px; display: table-cell;");fp.className=dM}setTimeout(function(){s("LeadHunter: close form after timeout");eA()},7000)};var eR=function(){var fA=Math.round((e4()-eD.clientHeight)/2);var fz=Math.round((fy()-eD.clientWidth)/2);if(dr(eD)){eD.setAttribute("style","left: "+fz+"px; top: "+Math.max(0,fA)+"px;")}};var dB=function(fA){if(bT.roistat.leadHunter.onBeforeAppear){s("LeadHunter: process user defined onBeforeAppear");bT.roistat.leadHunter.onBeforeAppear(fA);if(d1){eK()}}if(dr(eD)){eD.setAttribute("style","left:20px;top:-20px;opacity:0");eD.className=eu}if(dr(eS)){eS.className=eT}if(dr(fu)){fu.className=fe}if(dr(d3)){d3.className=fh}if(dr(dG)){dG.className=eq}if(dr(fp)){fp.setAttribute("style","");fp.className=ed}if(dr(eS)){eS.setAttribute("style","opacity:0;")}dN=true;setTimeout(function(){eS.setAttribute("style","opacity:.5;")},10);var fB=i(bM),fz=ec+"?visit_id="+fB+"&page="+w();O(fz);if(bT.roistat.leadHunter.onAfterAppear){s("LeadHunter: process user defined onAfterAppear");bT.roistat.leadHunter.onAfterAppear(fB,eS,eD,fu);if(d1){eK()}}};var eW=function eB(){dZ=bV();dH();s("LeadHunter: form initialized")};var fn=function el(){s("LeadHunter: tuning appearance for page");if(!br(bQ.get(eh))||(bQ.get(aJ)&&!bQ.get(R))){s("LeadHunter: disabled on page");fo.leave.isShowEnabled=false;clearTimeout(fo.timeoutId);if(dg()){c3=false;dd()}if(dr(dX)){dX.className=ed}}else{s("LeadHunter: enabled on page");if(!ej()&&!W()){s("ShowLimit: Beta Test off, bindShowOnTimeout usually");fo.leave.isShowEnabled=true;ek()}if(W()){s("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!eQ()&&!dV()){s("ShowLimit: bindShowOnTimeout allowed");fo.leave.isShowEnabled=true;ek()}}if(dr(dX)){dX.className=fo.pulsator.previousClass}}};var d5=function eN(){s("LeadHunter: processing single page application state change");dZ=bV();fn()};var e2=function es(){ao(d5);const fA=function(){var fF=E.querySelector("html"),fC=600,fE=300,fG=bT.innerWidth,fB=getComputedStyle(fF).zoom,fD={};if(fG<fC&&fG>fE){fD={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:fB};e3.contentWindow.postMessage({sizeSettings:fD,message:eU},d9);return}if(fG<fE){fD={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:fB};e3.contentWindow.postMessage({sizeSettings:fD,message:eU},d9);return}fD={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:fB};e3.contentWindow.postMessage({sizeSettings:fD,message:eU},d9)};Z(bT,"load",function(){fA()});Z(bT,"resize",function(){fA()});Z(bT,"message",function fz(fG){var fF=typeof fG.data==="string"?fG.data:fG.data.message;if(fF===eV){fc=fG.data.scriptId;d6=fG.data.showsLimit;var fD=bQ.getObject(o)!==null;if(fD){ff=fG.data.leadHunterAutoShowTime;fk=fG.data.leadHunterMinTime;fk=fG.data.leadHunterMinTime;eg=fG.data.leadHunterPulsatorSettings;bQ.set(eL,fk);bQ.set(d8,ff);if(eg){bQ.set(eI,Number(eg.isEnabled));fq(eg)}}s("ShowLimit: Get lhScriptId: "+fG.data.leadHunterId+" and lhScriptMaxShownCount: "+fG.data.leadHunterMaxShownCount+" from lh widget");eH()}if(fF===dR){eA()}if(fF===eU){e3.setAttribute("style","width: "+fG.data.width+"px !important; height: "+fG.data.height+"px !important;");fd(fG)}if(fF===fb){var fH=fG.data.caughtLeadData;if(bT.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fC=bT.roistat.leadHunter.onBeforeSubmit(fH);if(fC){fH=fC}}if(!W()){s("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");dE()}else{s("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");eJ()}var fB=bQ.getObject(b7);var fE=fB!==null;var fI=fE&&fH.isNeedCallback===null&&!I(fB);if(fI){fH.isNeedCallback=0}e3.contentWindow.postMessage({caughtLead:fH,message:eF},d9)}if(fF===fj){if(bT.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bT.roistat.leadHunter.onAfterSubmit({name:fG.data.name,phone:fG.data.phone})
}}})};function eK(){var fz={apiData:bT.roistat.leadHunter.form,message:eY};e3.contentWindow.postMessage(fz,d9)}function eH(){if(!eX()){s("checkLeadHunterLaunch false");return}var fz=bQ.getObject(o)!==null;if(fz){dF()}if(!eb()){s("initSettings false");return}s("LeadHunter: activated");eW();fn();e2()}function e4(){return(bT.innerHeight?bT.innerHeight:E.documentElement.clientHeight==0?E.body.clientHeight:E.documentElement.clientHeight)}function fy(){return(bT.innerWidth?bT.innerWidth:E.documentElement.clientWidth==0?E.body.clientWidth:E.documentElement.clientWidth)}function eO(fC,fz){fC=fC||event;d0=fC.clientY;var fA=d0/e4(),fE=dU>0&&dU>fA,fB=fA<dW,fD=(bV()-dZ)>fl*1000;if(fE&&fB&&!dN&&fD&&fo.leave.isShowEnabled&&!ej()){s("LeadHunter: show modal with because move up ("+dU+" -> "+fA+") and in modal zone and show on leave enabled");dB("exit");dD(fz);et(fC)}if(fA<dK){dU=fA}}function fd(fz){if(dC){eR()}else{fz=fz||event;et(fz)}}function et(fE){var fA=fE.type==="message"?fE.data.width:eD.offsetWidth;var fB=fy();var fz=fE.clientX-Math.round(fA/2)||eD.offsetLeft;fz=Math.max(20,Math.min(fz,fB-fA-20));var fF=fz+fA>fB-40;if(fF){var fC=(fz+fA-20)-(fB-40);fz=fz-fC}var fD=fB-40>fA?"":"width: "+(fA-40)+"px;";if(dr(eD)){eD.setAttribute("style","left: "+fz+"px; top: 0px; "+fD)}}function dE(){bT.roistatSetCookie(dL,1,cq)}function eA(){if(!W()){s("ShowLimit: Beta Test off, setCookieLeadHunterCaught");dE()}if(dr(eS)){eS.setAttribute("style","opacity:0")}if(dr(eD)){eD.style.top="-"+eD.offsetHeight*2+"px";setTimeout(function(){eD.className=eS.className=ed},500)}}function ef(){var fN=E.getElementById("roistat-lh-phone-input"),fB=E.getElementById("roistat-lh-name-input"),fD,fL;fD=fN===null?"":fN.value;fL=fB===null?"":fB.value;var fI={name:fL,phone:fD,isNeedCallback:null,callbackPhone:null,fields:{}};if(bT.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fE=bT.roistat.leadHunter.onBeforeSubmit(fI);if(fE){fI=fE}}var fK=fI.phone.length<1;var fM=fI.phone.indexOf("_")===-1;var fG=!fK&&fM;var fJ=fI.name.length<1;var fA=!fJ||!bT.roistat.leadHunter.form.isNameRequired;if(!fG&&dr(fN)){fN.setAttribute("style","border: 2px solid #E0571A;");return}if(!fA&&dr(fB)){fB.setAttribute("style","border: 2px solid #E0571A;");return}var fz=dv+"?v="+Q+"&lead-hunt-input="+encodeURIComponent(fI.phone)+"&lead-name="+encodeURIComponent(fI.name)+"&visit="+ca();if(fI.isNeedCallback!==null&&fI.isNeedCallback!==bo){fz=fz+"&is_need_callback="+(fI.isNeedCallback>0?1:0)}if(fI.callbackPhone){fz=fz+"&callback_phone="+fI.callbackPhone}if(bT.roistat.leadHunter.additionalNotifyEmail!==null){fz=fz+"&additional_email="+encodeURIComponent(bT.roistat.leadHunter.additionalNotifyEmail)}var fC=0;if(fI.fields&&typeof fI.fields==="object"){for(var fF in fI.fields){if(fI.fields.hasOwnProperty(fF)){++fC}}}if(fC>0){fz=fz+"&fields="+fi(JSON.stringify(fI.fields))}fz=fz+"&t="+bV();var fH=E.createElement("img");fH.src=fz;if(dr(fN)){fN.setAttribute("style","")}if(!W()){s("ShowLimit: Beta Test off, caught LH usually");dE()}else{s("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");eJ()}if(!dr(fp)){eA();ea()}else{ei()}if(bT.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bT.roistat.leadHunter.onAfterSubmit({name:fL,phone:fD})}}function er(fz){if(fz.preventDefault){fz.preventDefault()}else{fz.returnValue=false}if(dr(ey)){ey.style.display==="block"?ey.style.display="none":ey.setAttribute("style","display: block; padding: 0 30px; width:"+eD.clientWidth+"px;")}fd()}function fx(){if(dr(fs)){fs.disabled===true?fs.disabled=false:fs.disabled=true}if(dr(eo)){eo.style.display==="block"?eo.style.display="none":eo.style.display="block"}}function ea(){E.onmousemove=null;if(dr(eS)){eS.onresize=null}}var d7=function(fF,fI){if(!fF||!fI){s("LeadHunter: skip phone mask render due to empty input or mask");return}s("LeadHunter: render phone mask "+fI+" for input: "+fF.value);if(bT.roistatRenderPhoneMaskMutex){return}bT.roistatRenderPhoneMaskMutex=true;var fC="_",fB="x",fE="",fD=fI.toLowerCase().split(fB).join(fC).split(fE).join(fC);var fA=function(fJ){if(fF.setSelectionRange){fF.setSelectionRange(fJ,fJ)}else{if(fF.createTextRange){var fK=fF.createTextRange();fK.collapse(true);fK.moveEnd("character",fJ);fK.moveStart("character",fJ);fK.select()}}};var fG=function(fJ){if(!fJ){return 0}var fK=fJ.indexOf(fC);if(fK<0){return fJ.length}return fK};var fH=function(fJ){fA(fG(fJ))};var fz=function(fS){var fT=fD.split("");if(!fS){return fD}var fJ=fS.split("");var fU=[],fR,fO,fQ,fN,fL,fK,fP;for(var fM=0;fM<fT.length;fM++){fO=fT[fM];if(fM>=fJ.length){fU.push(fO);continue}fL=((fM+1)<fT.length)?fT[fM+1]:null;fK=((fM+1)<fJ.length)?fJ[fM+1]:null;fP=((fM+2)<fJ.length)?fJ[fM+2]:null;fR=fJ[fM];fQ=parseInt(fR)>=0;fN=(fO===fC)&&fQ;if(!fN){fU.push(fO);continue}if(fK===fC&&fL!==fC&&fP!==fL){fU.push(fO);continue}fU.push(fR)}return fU.join("")};setTimeout(function(){var fJ=fz(fF.value);if(fF.value!==fJ){fF.value=fJ}fH(fJ);bT.roistatRenderPhoneMaskMutex=false
},1)};var e1=function(fz,fB,fA){bQ.set(LEAD_HUNTER_FORM_TEMPLATE,bX.encode(fz));bQ.set(LEAD_HUNTER_PULSATOR_TEMPLATE,bX.encode(fB));bQ.setObject(LEAD_HUNTER_PULSATOR_SETTINGS,fA)};var eG=function(fz){Y=fz;if(e3===bo){return}dt()};var dt=function(){var fz={language:Y,message:eZ};e3.contentWindow.postMessage(fz,d9)};var eJ=function(){s("ShowLimit: Start set roistat_leadHunterScriptsCaught");var fz=dO(d2);if(!fz){fz={}}s("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");fz[fc]=1;e0(d2,fz)};var dw=function(){s("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var fA=dO(fw);if(!fA){fA={}}var fB=fA.hasOwnProperty(fc);if(!fB){s("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");fA[fc]=0}var fz=fA[fc]+1>d6;if(fz){s("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}s("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");fA[fc]+=1;e0(fw,fA)};var e0=function(fz,fA){cP(fz,JSON.stringify(fA),cq)};var dO=function(fz){var fA=i(fz);if(typeof fA!=="undefined"){return JSON.parse(fA)}return fA};var dV=function(){if(d6===0){s("ShowLimit: show limit off and set to 0");return false}var fz=dO(fw),fA=fz?fz[fc]:null,fB=fA+1>d6;s("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+fB);return fB};var eQ=function(){var fB=dO(d2),fz=fB?fB[fc]:null,fA=fz===1;s("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+fA);return fA};var dF=function(){bQ.set(aJ,dz());bQ.set(LEAD_HUNTER_FORM_TEMPLATE,bX.encode(eM()));bQ.set(eh,dP())};var eM=function(){var fz=aV()+"//"+u+"/api/site/1.0/"+aQ()+"/leadhunter/script/"+bQ.get(aJ)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+fz+'" frameborder="0"></iframe></div>'};var dz=function(){var fA=bQ.getObject(o);if(fA===null){return}bQ.set(R,"");var fE=Number(bQ.get(bp));var fI=Object.keys(fA);var fF=fI.sort()[0];if(!fE){return fF}for(var fD=0;fD<fI.length;fD++){var fJ=fA[fI[fD]];var fG=fJ.targetPageList;var fC=br(fG.join(","));var fB=fG.length===0;var fz=Array.isArray(fJ.devicesFilter)&&fJ.devicesFilter.length>0?fJ.devicesFilter.indexOf(B())!==-1:true;var fH=(fB||fC)&&fz&&(!fJ.timetable.isEnabled||I(fJ.timetable));if(fH){fF=fI[fD];bQ.set(R,fF)}}return fF};var dP=function(){var fz=bQ.get(aJ);var fA=JSON.parse(bQ.get(o));return fA[fz]?fA[fz].targetPageList.join(","):""};b8(eH);bT.roistatLeadHunterShow=em;bT.roistatRenderPhoneMask=d7;bT.roistat.leadHunter.localization.translateToRussian=function(){eG(bB)};bT.roistat.leadHunter.localization.translateToEnglish=function(){eG(cT)}},multiwidget:function(){var d8="roistat-multiwidget-hidden",ei="roistat-multiwidget-pulsator-phone",eg="roistat-multiwidget-pulsator-popup-item-lead-hunter",dJ="roistat-multiwidget-pulsator-fill",el="roistat-multiwidget-pulsator-fill-svg",dZ="roistat-multiwidget-pulsator-img-icon",dI="roistat-multiwidget-pulsator-popup-item-chat",dv="roistat-multiwidget-pulsator-popup-item-facebook",dA="roistat-multiwidget-pulsator-popup-item-vk",dY="roistat-multiwidget-pulsator-popup-item-telegram",dP="roistat-multiwidget-pulsator-popup-item-whats-app",dN="roistat-multiwidget-pulsator-popup-item-viber",d3="roistat-multiwidget-pulsator-items-popup-holder",dX="iframe_chat_successfully_loaded",dC="roistat-multiwidget-pulsator-popup-tail",dV="roistat-online-chat-popup-wrapper",ek="roistat-online-chat-popup-wrapper-hidden",ee="roistat-multiwidget-pulsator-holder-hidden";var dH,d2,dQ,eh,ds,dy,ej,dU,dE,du,dF,dw,ea,dx;var dM=false;var ef={topLeft:{bottom:"unset",right:"unset",top:cY()?0:"20px",left:cY()?0:"35px",},topRight:{bottom:"unset",right:cY()?0:"35px",top:cY()?0:"20px",left:"unset"},bottomRight:{bottom:cY()?0:"20px",right:cY()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:cY()?0:"20px",right:"unset",top:"unset",left:cY()?0:"35px",}};var dB={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var dO={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};
function d7(en){s("Multiwidget: "+en)}function dW(){d2=dj(dH,ei);dQ=dj(dH,d3);eh=dj(dH,dC);dU=dj(dQ,eg);dE=dj(dQ,dI);du=dj(dQ,dA);dF=dj(dQ,dv);dw=dj(dQ,dY);ea=dj(dQ,dP);dx=dj(dQ,dN);ds=dj(d2,dJ);dy=d2.getElementsByClassName(el);ej=dj(d2,dZ)}function dK(){if(dr(dQ)){dQ.classList.toggle(d8)}}function ed(en){if(dr(en)){en.classList.toggle("opened")}}function em(){d7("add pulsator events");dq(d2,"click",function(){if(!dS()){dK()}ed(d2)});dq(dU,"click",function(){d7("opening leadhunter via multiwidget");bT.roistatLeadHunterShow();dK();c9(d2,"opened",false)});dq(dE,"click",function(){d7("opening online chat via multiwidget");bT.roistatOnlineChatShow();dK()});dq(du,"click",function(){bT.open(bQ.get(cl),"_blank")});dq(dF,"click",function(){bT.open(bQ.get(cD),"_blank")});dq(dw,"click",function(){bT.open(bQ.get(ba),"_blank")});dq(ea,"click",function(){bT.open(bQ.get(bm),"_blank")});dq(dx,"click",function(){bT.open(bQ.get(cc),"_blank")})}function dS(){var en=dj(E,dV);return dr(en)&&!en.classList.contains(ek)}function dT(){return dr(d3)&&!d3.classList.contains(d8)}function dz(en){if(dr(en)){en.classList.add(d8)}}function d5(en){if(dr(en)){en.classList.remove(d8)}}function d0(){dz(dU)}function dR(){d7("hiding disabled multiwidget options");var en=Number(bQ.get(bp)),eo=Number(bQ.get(bE)),eq=Number(bQ.get(M)),es=Number(bQ.get(b9)),ep=Number(bQ.get(ci)),er=Number(bQ.get(c2));if(!en||!c8||!c3){d7("hiding leadhunter option");d0()}if(!dc()||!dM){d7("hiding online chat option");dz(dE)}if(!eo){d7("hiding vk-messenger option");dz(du)}if(!eq){d7("hiding fb-messenger option");dz(dF)}if(!es){d7("hiding telegram-messenger option");dz(dw)}if(!ep){d7("hiding whatsApp-messenger option");dz(ea)}if(!er){d7("hiding Viber-messenger option");dz(dx)}}function dt(){var eo=bQ.getObject(MULTIWIDGET_PULSATOR_SETTINGS);d7("start filling pulsator");if(eo){if(dr(ds)){ds.setAttribute("style","background: "+eo.button_color+";")}if(dr(ej)){ej.setAttribute("style","fill: "+eo.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(dy)){for(var en=0;en<dy.length;en++){dy[en].setAttribute("style","fill: "+eo.button_color+";")}}}}function d4(){var en=bQ.getObject(MULTIWIDGET_PULSATOR_SETTINGS);return typeof en.position==="string"&&en.position!==""?en.position:"bottomRight"}function d1(){if(dr(dH)){var en=d4();dH.setAttribute("style","top: "+ef[en].top+";right:"+ef[en].right+";bottom:"+ef[en].bottom+";left:"+ef[en].left+";")}}function dL(){if(dr(d2)){var en=d4();var eo=en==="topLeft"||en==="bottomLeft"?"margin-right":"margin-left";d2.setAttribute("style",eo+": auto")}}function d6(){if(dr(dQ)){var en=d4();dQ.setAttribute("style","top: "+dB[en].top+";right:"+dB[en].right+";bottom:"+dB[en].bottom+";left:"+dB[en].left+";")}}function dD(){if(dr(eh)){var en=d4();eh.setAttribute("style","top: "+dO[en].top+";right:"+dO[en].right+";bottom:"+dO[en].bottom+";left:"+dO[en].left+";border-top-color:"+dO[en]["border-top-color"]+";border-right-color:"+dO[en]["border-right-color"]+";border-bottom-color:"+dO[en]["border-bottom-color"]+";border-left-color:"+dO[en]["border-left-color"]+";")}}function eb(){d1();dL();d6();dD()}function dG(){var eo=bX.decode(bQ.get(MULTIWIDGET_PULSATOR_TEMPLATE));if(eo){d7("appending multiwidget pulsator");var en=E.createElement("div");en.innerHTML=eo;dH=en.childNodes.item(0);if(!bT.roistat.multiwidget.isVisible){d7("Hide widget");dH.className=dH.className+" "+ee}E.body.appendChild(dH);dW();dR();dt();eb();em()}}function d9(){Z(bT,"message",function en(ep){var eo=typeof ep.data==="string"?ep.data:ep.data.message;if(eo===dX){dM=true;d5(dE)}})}function ec(){d9();d7("activated");dG()}dd=d0;b8(ec)},onlineChat:function(){var en="iframe-module-created",dC="iframe_chat_successfully_loaded",du="iframe-online-chat-opened",dz="iframe-online-chat-invite-message",ep="roistat-online-chat-init",eM="roistat-online-chat-reload",ey="roistat-online-chat-update-custom-params",dP="roistat-online-chat-lead_successfully_sent",et="roistat-online-chat-translate-form",dX="roistat-online-chat-send-lead",eB="roistat_chat_id",eL="roistat_chat_session",eo="roistat_chat_custom_position",dJ,dD,eC,dE,ez,eg,dR,ef;var eb="roistat-online-chat-popup-iframe",dU="roistat-online-chat-hidden",eD="roistat-online-chat-holder",ex="roistat-online-chat-popup-wrapper",ev="roistat-multiwidget-pulsator-phone",dv="roistat-multiwidget-pulsator-popup-item-chat",ee="roistat-online-chat-popup-wrapper-hidden",dS="roistat-online-chat-popup-mouse-track",ea="roistat-online-chat-popup-mouse-track-active",dW="roistat-online-chat-pulsator-fill",eA="roistat-online-chat-pulsator-img",d4="roistat-online-chat-pulsator-phone",dN="roistat-online-chat-pulsator-fill-svg",dI=".roistat-multiwidget-pulsator-items-popup",dG=".roistat-online-chat-pulsator-phone",d8=".roistat-online-chat-popup-wrapper";var dT=false,dV=false,ei=0,dx=0;var ec=".roistat-online-chat-holder";var d3="roistat-online-chat-holder-hidden";if(dg()){ec=".roistat-multiwidget-pulsator-holder";d3="roistat-multiwidget-pulsator-holder-hidden"}var eG;var eK={topLeft:{bottom:"unset",right:"unset",top:cY()?0:"20px",left:cY()?0:"35px",},topRight:{bottom:"unset",right:cY()?0:"35px",top:cY()?0:"20px",left:"unset"},bottomRight:{bottom:cY()?0:"20px",right:cY()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:cY()?0:"20px",right:"unset",top:"unset",left:cY()?0:"35px",}};
var ed={topLeft:{top:cY()?"90px":"130px",right:"unset",bottom:"unset",left:cY()?"3%":"65px"},topRight:{top:cY()?"90px":"130px",right:cY()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:cY()?"3%":"65px",bottom:cY()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:cY()?"90px":"130px",left:cY()?"3%":"65px"}};var eE={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var em=function(eO){s("onlineChat: "+eO)};var dO=function(){function eO(){return Math.random().toString(36).substr(2,8)}return eO()+eO()+eO()+eO()};var dF=function(){var eO=bQ.get(eL);if(!eO){eO=dO();bQ.set(eL,eO)}return eO};var dw=function(){var eO={message:en,detail:{version:Q,language:p,projectKey:aQ(),visitId:ca(),firstVisit:bQ.get(aL),chatId:i(eB),moduleTargetOrigin:bT.location.origin,referrer:bT.location.href,params:dl,sessionUniqueKey:dF()}};ez.contentWindow.postMessage(eO,ez.src)};var dK=function(){var eO={message:du,detail:{isOpened:eF()}};ez.contentWindow.postMessage(eO,ez.src)};var dM=function(){var eO={message:ey,detail:{params:dl}};ez.contentWindow.postMessage(eO,ez.src)};var ds=function(){var eO={language:p,message:et};ez.contentWindow.postMessage(eO,ez.src)};var eu=function(){Z(bT,"message",function eO(eR){var eQ=typeof eR.data==="string"?eR.data:eR.data.message;var eP=typeof eR.data!=="string"?eR.data.detail:{};em("event: "+eQ+" "+JSON.stringify(eP));switch(eQ){case dC:ew();bT.setRoistatOnlineChatCustomParams=d0;d0(dl);break;case en:dw();break;case ep:em("saving chat id = "+eP.chatId);cP(eB,eP.chatId,{path:"/"});break;case dz:em("rendering invite message");eq(eP.message);break;case dX:em("sending lead");dL(eP.leadData)}})};var dZ=function(){var eP=bT.roistat.onlineChat.notificationsCustomHolderSelector;var eO=eP!==null;return E.querySelector(eO?eP:ec)};var dL=function(eO){bT.roistatGoal.reach(eO,function(){ez.contentWindow.postMessage(dP,ez.src)})};var eq=function(eV){if(eF()){return}var eQ="<div class='roistat-online-chat-message'><img src='"+eV.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+eV.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+eV.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var eU=E.createElement("div");eU.innerHTML=eQ;var eT=dZ();if(dr(eT)){var eW=eh()?"beforeend":"afterbegin";eT.insertAdjacentHTML(eW,eQ);var eS=eT.getElementsByClassName("roistat-online-chat-message-close");var eO=eT.getElementsByClassName("roistat-online-chat-message");var eR=eS[eh()?eS.length-1:0];var eP=eO[eh()?eS.length-1:0]}setTimeout(function(){eP.remove()},15000);dq(eP,"click",function(eX){eX.stopPropagation();if(!eF()){es()}eH()});dq(eR,"click",function(eX){eX.stopPropagation();eP.remove()})};var eH=function(){var eP=dZ();if(dr(eP)){var eO=eP.getElementsByClassName("roistat-online-chat-message");while(eO.length>0){eO[0].remove()}}};var eJ=function(){ez=E.getElementById(eb);if(dr(ez)){dq(ez,"load",function(){d9()})}dq(E,"click",function(eT){var eS=bT.roistat.onlineChat.customTriggerSelector;if(dg()){var eU=dj(E,ev);var eR=dj(E,dv);var eQ=eF()&&eT.target!==eR&&!eR.contains(eT.target);if(eQ){c9(eU,"opened",false)}}else{var eO=dj(E,eD);var eP=eF()&&eT.target!==eO&&!eO.contains(eT.target);if(eP){c9(eO,"opened",false)}}if(eF()&&(eT.target.closest(dI)===null&&eT.target.closest(d8)===null&&eT.target.closest(dG)===null&&(eS?eT.target.closest(eS)===null:true))){es()}})};var dt=function(eQ){var eP=eC.getBoundingClientRect().x;var eO=eC.getBoundingClientRect().y;dV=true;dy();ei=eQ.pageX-eP;if(eh()){dx=eQ.pageY+eO}else{dx=eQ.pageY-eO}};var d2=function(){dV=false;er();dQ()};var dy=function(){if(dr(dD)){dD.classList.add(ea)}};var er=function(){if(dr(dD)){dD.classList.remove(ea)}};var ej=function(eW){if(dV&&dr(eC)){var eO=eC.getBoundingClientRect();var eV=eO.width;var eU=400;var eP=50;var eZ=0;var eR=bT.innerHeight-eU;var eX=eW.pageX-ei;var eT=eP;var eQ=bT.innerWidth-eP-eV;if(eh()){eZ=bT.innerHeight-(eW.pageY+eO.y)-20}else{eZ=eW.pageY-dx}var eY=eI();var eS=eY==="bottomLeft"||eY==="bottomRight"?"top":"bottom";if(eX>=eT&&eX<=eQ){eC.style.left=eX+"px";if(!eN()){eC.style.right="unset"}}if(eZ>=50&&eZ<=eR){eC.style[eS]=eZ+"px"}}};var dQ=function(){var eO={position:eI(),top:eC.style.top,left:eC.style.left,bottom:eC.style.bottom,right:eC.style.right};bQ.setObject(eo,eO)};var eI=function(){var eO=bQ.getObject(MULTIWIDGET_PULSATOR_SETTINGS);var eP=typeof eO.position==="string"&&eO.position!=="";return eP?eO.position:"bottomRight"};var eh=function(){var eO=eI();return eO==="topLeft"||eO==="topRight"};var eN=function(){var eO=eI();return eO==="topLeft"||eO==="bottomLeft"};var dB=function(){var eO=eI();
var eR=bT.roistat.onlineChat.customPosition;var eP=eR&&eR.top!==null?eR.top:ed[eO].top;var eS=eR&&eR.right!==null?eR.right:ed[eO].right;var eT=eR&&eR.bottom!==null?eR.bottom:ed[eO].bottom;var eQ=eR&&eR.left!==null?eR.left:ed[eO].left;eC=W()?dj(dJ,eD):dj(dJ,ex);if(dr(eC)){eC.classList.toggle(ee);eC.setAttribute("style","top: "+eP+";right:"+eS+";bottom:"+eT+";left:"+eQ+";")}};var d1=function(){if(dr(dD)){var eO=eI();dD.setAttribute("style","top: "+eE[eO].top+";bottom:"+eE[eO].bottom+";height:"+eE[eO].height+";")}};var dY=function(){if(dr(eG)){var eO=eI();eG.setAttribute("style","top: "+eK[eO].top+";right:"+eK[eO].right+";bottom:"+eK[eO].bottom+";left:"+eK[eO].left+";")}};var d6=function(){em("iframe appending to page");var eO=bX.decode(bQ.get(ONLINE_CHAT_IFRAME_TEMPLATE));dJ=E.createElement("div");dJ.innerHTML=eO;E.body.appendChild(dJ);dD=dj(E,dS);dB();eJ()};var d7=function(){var eP=bQ.getObject(MULTIWIDGET_PULSATOR_SETTINGS);em("start filling pulsator");if(eP){if(dr(eg)){eg.setAttribute("style","background: "+eP.button_color+";")}if(dr(dR)){dR.setAttribute("style","fill: "+eP.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ef)){for(var eO=0;eO<ef.length;eO++){ef[eO].setAttribute("style","fill: "+eP.button_color+";")}}}};var ew=function(){var eP=bX.decode(bQ.get(ONLINE_CHAT_PULSATOR_TEMPLATE));var eR=!cg()&&bT.roistatOnlineChatOnly;var eQ=(eP&&!dg()&&dc())||eR;if(eQ){em("pulsator appending to page");var eO=E.createElement("div");eO.innerHTML=eP;eG=eO.childNodes.item(0);if(!bT.roistat.multiwidget.isVisible){em("Hide widget");eG.className=eG.className+" "+d3}eg=dj(eG,dW);dR=dj(eG,eA);dE=dj(eG,d4);ef=E.getElementsByClassName(dN);E.body.appendChild(eG);dY();dH();d7()}};var dH=function(){if(dr(eG)){dq(eG,"click",function(){es();dA(eG)})}};function dA(eO){if(dr(eO)){eO.classList.toggle("opened")}}var eF=function(){return dr(eC)&&!eC.classList.contains(ee)};var es=function(){setTimeout(function(){dV=false},3000);if(dr(eC)){eC.classList.toggle(ee)}if(eF()){eH()}dK()};var el=function(){var eO=dZ();if(dr(eO)){eO.classList.toggle(d3)}};var d5=function(eO){p=eO;if(!dr(ez)){return}ds()};var d9=function(){dT=true;bT.roistatOnlineChatShow=es;bT.roistatMultiwidgetShow=el;em("chat window initialized")};function d0(eO){c4(eO);dM()}function ek(){d6();eu()}bT.roistat.onlineChat.localization.translateToRussian=function(){d5(bB)};bT.roistat.onlineChat.localization.translateToEnglish=function(){d5(cT)};b8(ek)}};function di(ds){s("Widgets: "+ds)}function e(ds){return ds!==dp}function c4(du){var dt=Object.keys(du);for(var ds=0;ds<dt.length;ds++){dl[dt[ds]]=du[dt[ds]]}}function dg(){var dA=Number(bQ.get(bp)),dw=dA&&c8&&c3,dE=Number(bQ.get(aW)),dv=dc(),dB=Number(bQ.get(bE)),dx=Number(bQ.get(M)),ds=Number(bQ.get(b9)),du=Number(bQ.get(ci)),dD=Number(bQ.get(c2)),dC=dw||dv||dB||dx||ds||du||dD,dt=dw&&!dv&&!dB&&!dx&&!ds&&!du&&!dD,dz=dv&&!dw&&!dB&&!dx&&!ds&&!du&&!dD,dF=!cg()&&bT.roistatOnlineChatOnly,dy=cg()&&cR();s("Is online chat only: "+dF);s("Is rp: "+dF);return dE&&dC&&!dz&&!dt&&!dF&&!dy}function dc(){var ds=Number(bQ.get(cj));if(!ds){s("OnlineChat: Online chat is disabled");return false}var dt=bQ.getObject(z);if(!dt.is_available_for_current_user_agent){s("OnlineChat: Current device group is disabled");return false}if(!dt.pages_filter.is_enabled){s("OnlineChat: Pages filter is disabled");return true}return br(dt.pages_filter.pages.join(","))}function dd(){di("Multiwidget disabled. Hide leadhunter pulsator from module")}function c6(ds,du,dt){bQ.set(LEAD_HUNTER_FORM_TEMPLATE,bX.encode(ds));bQ.set(LEAD_HUNTER_PULSATOR_TEMPLATE,bX.encode(du));bQ.setObject(LEAD_HUNTER_PULSATOR_SETTINGS,dt)}function db(dt,ds){bQ.set(MULTIWIDGET_PULSATOR_TEMPLATE,bX.encode(dt));bQ.setObject(MULTIWIDGET_PULSATOR_SETTINGS,ds)}function da(du,ds,dt){bQ.set(ONLINE_CHAT_PULSATOR_TEMPLATE,bX.encode(du));bQ.set(ONLINE_CHAT_IFRAME_TEMPLATE,bX.encode(ds));bQ.set(cj,dt)}function df(ds,du,dt){c6(ds,du,dt);bQ.set(MULTIWIDGET_PULSATOR_TEMPLATE,bX.encode(dp));bQ.set(ONLINE_CHAT_IFRAME_TEMPLATE,bX.encode(dp));dh=false;dm.leadHunter()}function c5(dD,dz,dx){var du=dD.form_template,dE=dD.pulsator_template,dw=dD.pulsator_settings;if(cR()){df(du,dE,dw);return}di("start initing widgets");var dA=dx.pulsator_template,dv=dx.iframe_template,dC=dz.pulsator_template,ds=dz.pulsator_settings,dy=Number(bQ.get(bp)),dt=Number(dx.settings.is_enabled),dB=bQ.getObject(o)!==null;c6(du,dE,dw);db(dC,ds);da(dA,dv,dt);if(dB){bQ.set(LEAD_HUNTER_FORM_TEMPLATE,bX.encode(c7()))}dh=true;if(dy&&!az()){di("leadhunter enabled. Start processing");dm.leadHunter()}if(dc()){di("online chat enabled. Start processing");dm.onlineChat()}if(dg()){di("multiwidget enabled. Start processing");dm.multiwidget()}}var c7=function(){var ds=aV()+"//"+u+"/api/site/1.0/"+aQ()+"/leadhunter/script/"+bQ.get(aJ)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ds+'" frameborder="0"></iframe></div>'};function dn(){var du=bQ.get(LEAD_HUNTER_FORM_TEMPLATE),dE=bQ.get(LEAD_HUNTER_PULSATOR_TEMPLATE),dw=bQ.getObject(LEAD_HUNTER_PULSATOR_SETTINGS),dz=bQ.get(ONLINE_CHAT_PULSATOR_TEMPLATE),dv=bQ.get(ONLINE_CHAT_IFRAME_TEMPLATE),dt=bQ.get(cj),dB=bQ.get(MULTIWIDGET_PULSATOR_TEMPLATE),ds=bQ.getObject(MULTIWIDGET_PULSATOR_SETTINGS);
bT.roistatLeadhunterForm=df;bT.roistatMultiwidget=c5;if(!du||!dE||!dw||!dB||!ds||!dz){di("requesting data from server");aK(aV()+"//"+u+"/api/site/"+ab+"/"+aQ()+"/multiwidget?domain="+encodeURIComponent(E.domain))}else{var dD=bX.decode(dB);var dA=bX.decode(dv);if((!e(dD)||!e(dA)||cR())&&!az()){di("initing LeadHunter form");bT.roistatLeadhunterForm(bX.decode(du),bX.decode(dE),dw)}else{di("initing multiwidget form");var dx={pulsator_template:dD,pulsator_settings:ds},dy={form_template:bX.decode(du),pulsator_template:bX.decode(dE),pulsator_settings:dw},dC={iframe_template:dA,pulsator_template:bX.decode(dz),settings:{is_enabled:Number(dt),},};bT.roistatMultiwidget(dy,dx,dC)}}}function de(){dn();di("Widgets: form initialized")}function dk(){di("activated");de()}b8(dk);bT.setRoistatOnlineChatCustomParams=c4;bT.roistatSaveLeadHunterTemplates=c6;bT.roistatSaveMultiwidgetTemplate=db;bT.roistatSaveOnlineChatTemplate=da})();(function r(){var df=function(){return i(cW)};var dd=function(){return bQ.get(a4)};var c6=function(){return bQ.get(bf)};var dj=function(dl){return dl!=null&&dl!==bo&&dl!==""};var di=function(){var dl=[];var dm=E.getElementsByClassName(ai);if(dm&&dm.length){dl=dm}return dl};var c4=function(){var dl=[];var dm=E.getElementsByClassName(D);if(dm&&dm.length){dl=dm}return dl};var c3=function(){var dl=[];var dm=E.getElementsByClassName(ad);if(dm&&dm.length){dl=dm}return dl};var c8=function(){var dl=[];var dm=E.getElementsByClassName(G);if(dm&&dm.length){dl=dm}return dl};var db=function(){var dl=[];var dm=E.getElementsByClassName(cO);if(dm&&dm.length){dl=dm}return dl};var e=function(dz,dm){s("CallTracking: RenderPhone phone = "+dz);var ds=function(dB){return dB.split(/[^0-9]/).join("")};var dt=function(dE,dG){var dJ=null;if(!dE){return dJ}var dB=dG.split(",");if(dB.length<2){dJ=dG}else{var dC=dE.getAttribute("data-prefix");if(dC){for(var dF=0;dF<dB.length;dF++){var dH=dB[dF];var dI=ds(dH);if(dI.indexOf("8")===0){dI="7"+dI.substring(1)}var dD=dI.split(dC)[0]==="";if(dD){dJ=dH;break}}}if(dJ===null){dJ=dB[0]}s("CallTracking._getPhoneForElement: Prepared phone = "+dJ+" for data-prefix = "+dC)}return dJ};var dq=function(dF,dD){var dB=dt(dF,dD);if(!dB||!dF){return}if(dF.tagName.toLowerCase()!=="a"){return}var dE=dF.getAttribute("href");if(cA(dE,"tel:")){var dC=ds(dB);if(dC.indexOf("8")===0){dC="7"+dC.substring(1)}dF.setAttribute("href","tel:+"+dC);dr(dF,dB)}};var dr=function(dC,dB){if(!dC.hasAttribute("title")){return}dC.setAttribute("title",dB)};var dv=function(dD,dC){var dB=dt(dD,dC);if(!dB||!dD){return}dD.innerHTML=dB};var dA=function(dB){var dC=di();s("CallTracking: render phone default classes for "+dC.length+" elements");q(dC,function(dD){dv(dD,dB);dq(dD,dB)});q(c4(),function(dE){var dD=ds(dt(dE,dB)).slice(0,1);dv(dE,dD)});q(c3(),function(dE){var dF=dt(dE,dB).match(/\((.*)\)/);if(dF!==null){var dD=dF[1];dv(dE,dD)}});q(c8(),function(dF){var dD=dt(dF,dB).match(/\)(.*)/);if(dD!==null){var dG=ds(dD[1]);var dE=dG.slice(-1*dG.length,-4)+"-"+dG.slice(-4,-2)+"-"+dG.slice(-2);dv(dF,dE)}});q(db(),function(dD){dq(dD,dB)})};var dy=function(dB,dG){if(!dG){return}s("CallTracking: render phone user replacement for "+dG.length+" replacements");for(var dF=0;dF<dG.length;dF++){var dI=dG[dF];if(!dI){continue}var dD=dI[0];dI=dI.substr(1);var dH=[];if(dD==="#"){var dE=E.getElementById(dI);if(dE!==null){dH.push(dE)}}else{dH=E.getElementsByClassName(dI);dp(dI,dB)}if(!dH||dH.length<1){continue}s("CallTracking: render phone for "+dI+", "+dH.length+" elements");for(var dC=0;dC<dH.length;dC++){dv(dH[dC],dB);dq(dH[dC],dB)}}};var du=function(dB){for(var dC=0;dC<dB.length;dC++){dy(dB[dC].phone,dB[dC].css_selectors);dx(dB[dC].phone,dB[dC].replaceable_numbers)}};var dx=function(dD,dC){if(!dC||dC.length===0){return}var dB=function(){var dO=dH();var dN=E.getElementsByTagName("*");var dI=dN.length;for(var dM=0;dM<dI;dM++){var dP=dN[dM];dE(dP,dO,dt(dP,dD));var dL=dP.childNodes.length;for(var dJ=0;dJ<dL;dJ++){var dK=dP.childNodes[dJ];dG(dK,dO,dt(dK,dD))}}};var dE=function(dM,dL,dI){if(!dF(dM)){return}var dN=dM.getAttribute("href").replace("tel:","");var dK=dL.length;for(var dJ=0;dJ<dK;dJ++){if(dL[dJ].test(dN)){dq(dM,dt(dM,dI))}}};var dF=function(dJ){if(dJ.tagName.toLowerCase()!=="a"){return false}var dI=dJ.getAttribute("href");return aN(dI)&&dI.indexOf("tel:")===0};var dH=function(){var dK=[];for(var dI=0;dI<dC.length;dI++){var dJ="[\\s()[\\]{}\\-+.]*";var dL=dC[dI].split("").join(dJ);dK.push(new RegExp("[+(]?"+dL,"g"))}return dK};var dG=function(dL,dK,dI){if(dL.nodeType!==Node.TEXT_NODE){return}for(var dJ=0;dJ<dK.length;dJ++){if(dL.textContent&&dK[dJ].test(dL.textContent)){dL.textContent=dL.textContent.replace(dK[dJ],dI)}else{if(dL.innerText&&dK[dJ].test(dL.innerText)){dL.innerText=dL.innerText.replace(dK[dJ],dI)}}}};dB()};var dp=function(dC,dB){q(dn(dC+"-"+bv),function(dE){var dD=ds(dt(dE,dB)).slice(0,1);dv(dE,dD)});q(dn(dC+"-"+aD),function(dE){var dF=dt(dE,dB).match(/\((.*)\)/);if(dF!==null){var dD=dF[1];dv(dE,dD)}});q(dn(dC+"-"+a3),function(dF){var dD=dt(dF,dB).match(/\)(.*)/);
if(dD!==null){var dG=ds(dD[1]);var dE=dG.slice(-1*dG.length,-4)+"-"+dG.slice(-4,-2)+"-"+dG.slice(-2);dv(dF,dE)}});q(dn(dC+"-"+bH),function(dD){dq(dD,dB)})};var dn=function(dC){var dB=[];var dD=E.getElementsByClassName(dC);if(dD&&dD.length){dB=dD}return dB};var dw=function dw(){var dC=c6();if(dC){dC=dC.split("\n");for(var dB=0;dB<dC.length;dB++){dC[dB]="."+dC[dB]}}if(dm instanceof Array){du(dm)}else{dA(dz);dy(dz,dC)}};(function dl(){dw();var dB=[300,5000,15000];dB.forEach(function(dC){setTimeout(dw,dC)})})()};var c5=function(dl){bQ.save(m,dl,cq)};var de=function(){if(bT.roistat.callTracking.phone){var dl={expires:parseInt(bT.roistat.callTracking.sessionTime),path:"/"};if(cq.domain){dl.domain=cq.domain}cP(cW,bT.roistat.callTracking.phone,dl);c5(1);bQ.save(bf,bT.roistat.callTracking.replacementClasses,cq);bQ.save(a4,bT.roistat.callTracking.phoneScriptsJson,cq)}};var dc=function(dl,dq,dn,dm){s("CallTracking: reuse phone "+dl+" for time "+dq+" and replacements "+dn);if(!dj(dl)){s("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cE();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=dl;roistat.callTracking.sessionTime=dq;roistat.callTracking.replacementClasses=dn;roistat.callTracking.phoneScriptsJson=dm;cE();de();var dr={expires:parseInt(dq),path:"/"};if(cq.domain){dr.domain=cq.domain}cP(cW,dl,dr);bQ.save(a4,dm,cq);bQ.save(bf,dn,cq);var dp=cI(dm);if(dp==null){e(dl)}else{e(dl,dp)}};var c7=function(){s("CallTracking: request new phone");var dl=i(bM);var dq=af();var dp=dq?dq:bg;var dn=encodeURIComponent(b6);var dm=K()+"/get-phone?visit="+dl+"&marker="+(dp?dp:"")+"&prefix="+ce+"&prefix_bind="+cX+"&phone_scripts_bind="+N+"&page="+dn;aK(dm)};var c9=function(){ce=bT.roistatPhonePrefix?bT.roistatPhonePrefix:"";cX=bT.roistatPhonePrefixBind?bT.roistatPhonePrefixBind:"";N=bT.roistatCalltrackingScripts&&bT.roistatCalltrackingScripts.join?bT.roistatCalltrackingScripts.join(","):"";s("CallTracking: refresh phone with prefix: "+ce+", binding: "+cX+", scripts: "+N);c7()};var dk=function(){var dl=bQ.get(m)>0;var dm=bD.callTrackingEnabled;return dl&&dm};var da=function(dl){c5(dl.is_enabled)};var dh=function dh(){var dl=df();if(!dj(dl)){s("CallTracking: invalid phone "+dl+", requesting a new one");c7()}else{s("CallTracking: render phone "+dl);var dm=cI(dd());if(dm==null){e(dl)}else{e(dl,dm)}}};var dg=function(){s("CallTracking: init");if(az()){s("CallTracking: Shut down because only online chat need to be inited");return}de();if(!dk()){s("CallTracking: disabled, skip");return}if(bD.callTrackingManual){s("CallTracking: init finish because off manual");return}dh();ao(dh)};bT.roistatCallTrackingRefresh=c9;bT.roistatRequestNewPhone=c7;bT.roistatReusePhone=dc;bT.roistatCalltrackingUpdateSettings=da;b8(dg)})();(function A(){var c4=function(da){s("Emailtracking: "+da)};var c8=function(da,dc,db){bQ.save(be,da,cq);bQ.save(b,dc,cq);bQ.save(bs,JSON.stringify(db),cq)};var c3=function(){var da=(bT.roistat.emailtracking.email&&bT.roistat.emailtracking.trackingEmail)||aE(bT.roistat.emailtracking.emails);if(bT.roistat.emailtracking.loaded&&da){c4("save loaded email: "+bT.roistat.emailtracking.email);c8(bT.roistat.emailtracking.email,bT.roistat.emailtracking.trackingEmail,bT.roistat.emailtracking.emails)}else{c4("settings save skip, because not loaded");bT.roistat.emailtracking.email=bQ.get(be);bT.roistat.emailtracking.email=bT.roistat.emailtracking.email?bT.roistat.emailtracking.email:null;bT.roistat.emailtracking.email=bT.roistat.emailtracking.email==="null"?null:bT.roistat.emailtracking.email;c4("email loaded from storage: "+bT.roistat.emailtracking.email);bT.roistat.emailtracking.trackingEmail=bQ.get(b);bT.roistat.emailtracking.trackingEmail=bT.roistat.emailtracking.trackingEmail?bT.roistat.emailtracking.trackingEmail:null;bT.roistat.emailtracking.trackingEmail=bT.roistat.emailtracking.trackingEmail==="null"?null:bT.roistat.emailtracking.trackingEmail;c4("tracking email loaded from storage: "+bT.roistat.emailtracking.trackingEmail);bT.roistat.emailtracking.emails=cI(bQ.get(bs));bT.roistat.emailtracking.emails=bT.roistat.emailtracking.emails?bT.roistat.emailtracking.emails:null;c4("emails loaded from storage: "+JSON.stringify(bT.roistat.emailtracking.emails))}};var c6=function(da){c8(da.email,da.trackingEmail,da.emails)};var c5=function(){var da=(!!bT.roistat.emailtracking.email&&!!bT.roistat.emailtracking.trackingEmail)||aE(bT.roistat.emailtracking.emails);return bT.roistat.emailtracking.enabled&&da};var e=function(){if(!c5()){c4("emailtracking disabled, skip swapping");return}var db=function(dg,dh,df){if(dg.href){var de=au(dg.href);if(dh.test(de)){dg.href=de.replace(dh,df);return true}}if(dg.nodeType!==3){return false}if(dg.textContent&&dh.test(dg.textContent)){dg.textContent=dg.textContent.replace(dh,df);return true}else{if(dg.innerText&&dh.test(dg.innerText)){dg.innerText=dg.innerText.replace(dh,df);return true}}return false};var da=function(de){return de.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")
};var dc=function(dg,df){var de=!df.match(/[a-z]/);return de?dg.toUpperCase():dg};var dd=function(dm,dp){var dq=da(dm);var dg=new RegExp("(^|\\s)(mailto:)?("+dq+")($|\\s|\\?)","gi");var dr=function(dw,du,ds,dt,dv){ds=ds||"";return du+ds+dc(dp,dt)+dv};c4("starting to replace email "+dm+" to "+dp+" with regexp "+dg);var df=E.getElementsByTagName("*");var di=df.length;c4("found "+di+" nodes on page");var dl=0;for(var dk=0;dk<di;dk++){var dh=df[dk];var dn=dh.childNodes.length;if(dn>0){for(var dj=0;dj<dn;dj++){var de=dh.childNodes[dj];if(db(de,dg,dr)){dl++}}}if(db(dh,dg,dr)){dl++}}c4("successfully replaced "+dl+" nodes")};if(bT.roistat.emailtracking.emails){a7(bT.roistat.emailtracking.emails,dd)}else{dd(bT.roistat.emailtracking.email,bT.roistat.emailtracking.trackingEmail)}};var c7=function(){c4("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var c9=function(){c4("init");if(az()){c4("Shut down because only online chat need to be inited");return}ao(c7);c3();c7()};bT.roistatEmailtrackingUpdateSettings=c6;bT.roistat.emailtracking.refresh=e;b8(c9)})();(function a9(){var c5=function(c7){s("MultiDomain: "+c7)};var c4=function(){return bQ.get(ROISTAT_IS_MULTI_DOMAIN)>0};var c3=function(db){var dc=function(de){if(!de){return false}if(cA(de,"roistat_visit")){return false}var dd=aU(de);var dg=aU(E.domain);var df=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return dd!==dg&&df.test(de)};var da=function(dg){var dh=dg.split("#");var df=dh[0].split("?");var dd="";var de="";if(df.length===2){dd=df[1]}if(dd){de="&"}dd=dd+de+"roistat_visit="+roistat.getVisit();df[1]=dd;dh[0]=df.join("?");return dh.join("#")};if(db.tagName.toLowerCase()!=="a"){return}var c9=db.getAttribute("href");var c8=false;if(dc(c9)){var c7=da(c9);c5("update url "+c9+" > "+c7);db.setAttribute("href",c7);c8=true}return c8};var e=function(){if(!c4()){c5("disabled, skip");return}var c7=E.getElementsByTagName("a");var c8=c7.length;c5("found "+c8+" <a> nodes on page");var db=0;for(var c9=0;c9<c8;c9++){var da=c7[c9];if(c3(da)){db++}}c5("replaced "+db+" nodes")};var c6=function(){c5("init");if(az()){c5("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};b8(c6)})();(function cz(){var e=60*1000;var c9=2*60*1000;var c3=function(db){s("SettingsUpdater: "+db)};var c7=function(){bQ.set(SETTINGS_UPDATE_TIME_KEY,bV())};var c8=function(){var dc=cF();var db=!(dc>0);c3("is first update check: lastUpdateTime="+dc+", result="+(db?1:0));return db};var da=function(){var dd=bV()-c9;var dc=cF();var db=dc<=dd;c3("expiration check: _minTime="+dd+", lastUpdateTime="+dc+", result="+(db?1:0));return db};var c4=function(dc){var db=i(bM);a(db,dc)};var c5=function(dc){c3("update settings and save last update time");var db=bQ.getObject(o)!==null;if(db){bQ.set(o,dc.js_settings.leadHunterTargetPagesMap)}bT.roistatCalltrackingUpdateSettings(dc.calltracking);bT.roistatEmailtrackingUpdateSettings(dc.emailtracking);bT.roistatSaveLeadHunterTemplates(dc.leadhunter_templates.form_template,dc.leadhunter_templates.pulsator_template,dc.leadhunter_templates.pulsator_settings);bT.roistatSaveMultiwidgetTemplate(dc.multiwidget_templates.pulsator_template,dc.multiwidget.pulsator_settings);bT.roistatSaveOnlineChatTemplate(dc.online_chat_templates.pulsator_template,dc.online_chat_templates.iframe_template);bT.roistatSaveProxyFormSettings(dc.proxy_forms);aX(dc.js_settings);cr(dc.multiwidget.multiwidget_settings);bU(dc.online_chat);t(dc.geo);b5(dc.promo_code);bN.isSettingsUpdating=false;c7()};var c6=function(){c3("init");if(c8()){c3("in first update we just start first timer and skip");c7();return}if(!da()){c3("update is not not expired, skip");return}c3("start to update settings");c4()};b8(function(){bT.roistatUpdateSettings=c5;setTimeout(function(){c6()},3000);c3("set interval to update settings");setInterval(function(){c6()},e)})})();(function bz(c6,e,c8){var c5={};var c3=function(da){var c9=encodeURIComponent?encodeURIComponent:encodeURI;return c9(da)};var c4=function(dg,da){s("Reach goal start");if(!dg){dg={}}var dd={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:ca(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var dc in dd){if(!Object.prototype.hasOwnProperty.call(dd,dc)){continue}if(!Object.prototype.hasOwnProperty.call(dg,dc)){continue}if(!dg[dc]){continue}if(dc==="fields"||dc==="client_fields"||dc==="items"||dc==="placeholders_data"){dg[dc]=JSON.stringify(dg[dc])}dd[dc]=c3(dg[dc])}var df=aQ();var de=aV()+"//"+u+"/api/site/"+ab+"/"+df+"/reach-goal?v=2";for(var db in dd){if(!Object.prototype.hasOwnProperty.call(dd,db)){continue}de=de+"&"+db+"="+dd[db]}if(da!==c8){var c9=Math.random().toString();c5[c9]=da;de+="&callback_key="+c9}aK(de);s("Reach goal completed")};var c7=c6.roistatGoal={reach:function(da,c9){c4(da,c9)
},callAfterReachCallback:function(c9){if(Object.prototype.hasOwnProperty.call(c5,c9)){c5[c9]();delete c5[c9]}}}})(bT,E,bo);(function cQ(c4,e,c5){var c3=function(da){if(da instanceof Array||da===null||typeof da!=="object"){s("Invalid event data");return""}var c7=[];for(var c9 in da){if(Object.prototype.hasOwnProperty.call(da,c9)){var c8=da[c9];if(typeof c8==="string"||typeof c8==="number"){c7.push("data["+encodeURIComponent(c9)+"]="+encodeURIComponent(c8))}else{s("Event data property ignored: "+c9)}}}return c7.length>0?"&"+c7.join("&"):""};var c6=function(c9,da){s("Send event start");var c7=n();var c8=K()+"/event/register?visit="+c7+"&event="+c9+c3(da);aK(c8);s("Send event completed")};c4.roistat.event={send:function(c7,c8){c6(c7,c8)}}})(bT,E,bo);(function bR(dc,de,c5){if(az()){s("VisitApprove: Shut down because only online chat need to be inited");return}var df=dc.roistatIsInitVisit===true?20000:10000;var c4=(new Date()).getTime();var c3=function(dj){return"approve_visit_"+dj};var db=function(dj){bJ.set(c3(dj),1)};var dg=function(dj){return bJ.get(c3(dj))>0};var e,c7,di=[];if(de.addEventListener){e=function(dk,dj,dl){return dk.addEventListener(dj,dl,false)};c7=function(dk,dj,dl){return dk.removeEventListener(dj,dl,false)}}else{e=function(dk,dj,dl){return dk.attachEvent("on"+dj,dl)};c7=function(dk,dj,dl){return dk.detachEvent("on"+dj,dl)}}var da=function(dm){if(di.length>30){return}dm=dm||dc.event;if(!dm||!dm.screenX){return}var dl=(new Date()).getTime();var dp,dn=null;if(di.length>0){dn=di[di.length-1]}if(dn){dp=dl-dn.time}else{dp=dl-c4}if(dp<300){return}dp=dp-300;var dr=0;var dj=dm.screenX;var dq=dm.screenY;if(dn){dr=parseInt(Math.sqrt(Math.pow(dn.y-dq,2)+Math.pow(dn.x-dj,2)))}var dk={time:dl,pauseBeforeMove:dp,x:dj,y:dq,distance:dr};di.push(dk)};var c9=function(){var dj=[];q(di,function(dk){var dl=[dk.pauseBeforeMove,dk.distance];dj.push(dl.join(":"))});if(dj.length===0){dj.push("0:0")}return dj.join("|")};var c6=function(){for(var dj in dc){if(cA(dj,"yaCounter")){return true}}return false};var dd=function(){c7(de,"mousemove",da);var dj=n();s("VisitApprove: start for visit "+dj);if(dg(dj)){s("VisitApprove: visit already approved, skip");return}db(dj);ar();var dk=K()+"/approve?v="+Q+"&visit="+dj;if(dh()){dk+="&hash="+ak()}if(c8()){dk+="&page_params="+encodeURIComponent(JSON.stringify(dc.roistat.page.params));f()}dk+="&mv="+c9();dk+="&pl="+(dc.navigator?dc.navigator.platform:"");dk+="&ym="+(c6()?"1":"0");aK(dk)};var dh=function(){var dn=bN.cookies,dm=l();var dq=a0();for(var dk=0;dk<dq.length;dk++){var dp=dq[dk];var dr=Object.prototype.hasOwnProperty.call(dn,dp)?dn[dp]:c5;var dj=Object.prototype.hasOwnProperty.call(dm,dp)?dm[dp]:c5;var dl=typeof dj==="string"&&dj.length>0;if(dl&&dr!==dj){return true}}return false};var c8=function(){var dp=bN.pageParams,dl=dc.roistat.page.params;for(var dk=0;dk<ADDITIONAL_PAGE_PARAM_LIST.length;dk++){var dj=ADDITIONAL_PAGE_PARAM_LIST[dk];var dm=Object.prototype.hasOwnProperty.call(dp,dj)?dp[dj]:null;var dn=Object.prototype.hasOwnProperty.call(dl,dj)?dl[dj]:null;if(dn!==dm){return true}}return false};setTimeout(function(){dd()},df);e(de,"mousemove",da)})(bT,E,bo);(function ap(c7,c8,c3){var c5=function(){return T("roistat_ab_demo")==="1"};var c9=function(dc){return new RegExp(dc.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var c6=function(dh){var dc=c7.location.href,df=dh.filter,dl=dh.filterValue;var di;switch(df){case"except":case"pages":var dd,dk,dj=false;dk=dc?aC(dc):"";di=dl?dl.split("\n"):[];if(dk&&di.length!==0){for(var de=0;de<di.length;de++){var dg=di[de].trim();if(dg.length===0){continue}dd=c9(dg);if(dd.test(dk)){dj=true;break}}}return(df==="pages")?dj:!dj;break;case"all":default:return true}};var e=function(de){var dc=c8.getElementsByTagName("head")[0],dd;dd=c8.createElement("style");dd.setAttribute("type","text/css");if(dd.styleSheet){dd.styleSheet.cssText=de.value}else{dd.innerText=de.value}dc.appendChild(dd)};var c4=function(dc){if(c6(dc)){switch(dc.type){case"css":e(dc);break}}};c7.applyTests=function(){var dc=bQ.getObject("abTesting");var de,dd;for(de in dc){if(!Object.prototype.hasOwnProperty.call(dc,de)){continue}dd=dc[de];c4(dd)}};var da=function(){s("Call: apply demo AB test");var dc=T("roistat_ab_data");var dd;if(dc===null){return}else{dd=JSON.parse(bX.decode(dc))}if(typeof dd!=="object"){s("Error: testValue is not an object.");return}c4(dd)};function db(){if(az()){s("ABTest: Shut down because only online chat need to be inited");return}var dc=c5();if(!cw&&!dc){applyTests()}if(dc){da()}}db()})(bT,E,bo);(function aY(c3,e,c4){if(az()){s("visitStreamNew: Shut down because only online chat need to be inited");return}if(!cy){return}setTimeout(function(){(function(db,da,de,dd,c8,c6,c9){db[c8]={COUNTER_ID:c6,HOST:c9};var c7=da.location.protocol=="https:"?"https://":"http://";var c5=da.createElement(de);c5.async=1;c5.src=c7+c9+dd;var dc=da.getElementsByTagName(de)[0];dc.parentNode.insertBefore(c5,dc)})(c3,e,"script","/counter.js","datamap",aQ(),cy)
},1000)})(bT,E,bo);(function bP(c4,e,c5){var c6=function(){var c7=c4.roistatMetrikaCounterId;if(c7){bQ.set(aM,c7)}};var c3=function(dc){var c7="yaCounter"+dc;var db=100,c9=0,da=60000;var c8=function(){c9+=db;s("YandexMetrika: trying to access counter "+dc);if(c4[c7]===c5){if(c9<da){setTimeout(c8,db);db*=2}return}var dd={};dd[cn]=n();c4[c7].params(dd);s("YandexMetrika: visit id "+dd[cn]+" sent to counter "+dc)};setTimeout(c8,db)};b8(function(){c6();var c9=bQ.get(aM);if(!c9){s("YandexMetrika: counter id not found");return}var c8=String(c9).split(",");s("YandexMetrika: counters: "+c8);for(var c7=0;c7<c8.length;c7++){if(c8[c7].trim()===""){continue}c3(c8[c7])}})})(bT,E,bo);(function al(dc,dg){var dk=function(dn){s("Proxy Forms: "+dn)};var c9=function(){if(dc.roistat.proxyForms.loaded&&dc.roistat.proxyForms.settings.length>0){dk("save loaded settings");dh(dc.roistat.proxyForms.settings)}else{dk("settings not loaded, getting from storage");dc.roistat.proxyForms.settings=bQ.getObject(ROISTAT_PROXY_FORMS)||[]}};var dh=function(dn){bQ.setObject(ROISTAT_PROXY_FORMS,dn)};var dd=function(){dk("init form listener");c5(dc.roistat.proxyForms.settings);e(dc.roistat.proxyForms.settings)};var dm=function(dn){return dn.hasOwnProperty("hosts")&&dn.hasOwnProperty("is_excluding_hosts")&&bd(dn.hosts)&&dn.hosts.length>0};var c7=function(dp){if(!dm(dp)){return true}var dq=cG(dp.hosts,aU(dc.location.host));var dn=Boolean(dp.is_excluding_hosts);return dn?!dq:dq};var c4=function(dp){var dn=[];q(dp,function(dq){if(c7(dq)){dn.push(dq)}});return dn};var e=function(dn){var dq=[];q(dn,function(dr){if(dr.type==="js-button"){dq.push(dr)}});if(dq.length<1){dk("no button settings");return}var dp;if(dg.addEventListener){dp=function(dr){c8(dq,dr,dr.target,c6)};dg.addEventListener("click",dp,true)}else{if(dg.attachEvent){dp=function(){var dr=dc.event;c8(dq,dr,dr.srcElement,c6,true)};dg.attachEvent("onclick",dp)}else{dk("Listener could not be attached")}}};var c5=function(dp){C("Proxy form debug: start");var dn=[];q(dp,function(dr){if(dr.type==="form"){dn.push(dr)}});if(dn.length<1){dk("no form settings");return}if(dg.addEventListener){var dq=function(dr){c8(dn,dr,dr.target,dl)};dg.addEventListener("submit",dq,true)}else{if(dg.attachEvent){setInterval(function(){dn=c4(dn);var dr=dg.getElementsByTagName("form");q(dr,function(ds){if(ds.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ds.setAttribute("data-roistat-proxy-form-checked","true");q(dn,function(dt){if(c3(ds,dt.selector)){ds.attachEvent("onsubmit",function(){dc.event.returnValue=false;C("Proxy form debug: start sending form lead");dl(dt,dc.event.srcElement)})}})})},2000)}else{dk("Listener could not be attached")}}};var c8=function(dr,ds,dt,dq,dn){var du=c4(dr);var dp=null;q(du,function(dv){if(c3(dt,dv.selector)){dp=dv}});if(dp===null){dk("No matched settings found for listener");return}dq(ds,dp,dt,dn)};var dl=function(ds,dq,dr,dp){var dn=df(dr,dq);if(!di(dn,dq)){C("Proxy form debug: lead fields is not valid");return}dp?ds.returnValue=false:ds.preventDefault();C("Proxy form debug: sending lead");da(dn,dq,function(){HTMLFormElement.prototype.submit.call(dr)})};var c6=function(dq,dp){var dn=df(null,dp);if(!di(dn,dp)){return}da(dn,dp)};var da=function(dn,dr,dt){var ds={};var dq=db(dr.crm)&&dr.crm.hasOwnProperty("is_enabled");var dp=dq?dr.crm.is_enabled:true;ds.leadName=dr.hasOwnProperty("lead_name")?dr.lead_name:"    "+dr.title;ds.formTitle=dr.title;ds.name=dn.name;ds.phone=dn.phone;ds.email=dn.email;ds.text=dn.comment;ds.fields=dn.fields;ds.placeholders_data=dn.placeholdersData;ds.is_need_callback=dr.is_need_callback>0?1:0;ds.is_skip_sending=!dp;dc.roistatGoal.reach(ds,dt)};var db=function(dn){return(typeof dn==="number"&&!isNaN(dn))||(typeof dn==="string"&&dn!=="")||(typeof dn==="object"&&dn!==null)||(typeof dn==="boolean"&&dn)||bd(dn)};var di=function(dn,dq){var dp=[],ds=["name","email","phone","comment"];q(ds,function(dt){if(dq.hasOwnProperty(dt)&&dq[dt].required>0){dp.push(dt)}});if(bd(dq.fields)){q(dq.fields,function(dt){if(dt.required>0){dp.push(dt)}})}var dr=true;q(dp,function(dt){if(!dn.hasOwnProperty(dt)||!db(dn[dt])){dr=false}});return dr};var df=function(dq,dp){var dn={};dn.name=dp.name?de(dq,dp.name.value,dp.name.type):"";dn.phone=dp.phone?de(dq,dp.phone.value,dp.phone.type):"";dn.email=dp.email?de(dq,dp.email.value,dp.email.type):"";dn.comment=dp.comment?de(dq,dp.comment.value,dp.comment.type):"";dn.fields={};dn.placeholdersData={orderPage:b6};if(bd(dp.fields)){q(dp.fields,function(dr){dn.fields[dr.name]=de(dq,dr.value,dr.type)})}return dn};var de=function(dp,ds,dn){switch(dn){case"plain":return ds||"";case"input":var dr=dp.querySelector('input[name="'+ds+'"]');return dr?dr.value:"";case"js":try{return(new Function(ds))()}catch(dq){return""}}};var dj=function(){dk("init");if(az()){dk("Shut down because only online chat need to be inited");return}if(!dc.roistat.proxyForms.enabled){dk("disabled");return}c9();dd()};var c3=function(dr,dp){if(typeof Element!=="undefined"&&Element.prototype.matches){var dn=dr.matches(dp);
if(!dn){return dr.closest(dp)?dr.closest(dp).matches(dp):false}return dn}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ds=dr.matchesSelector(dp);if(!ds){return dr.closest(dp)?dr.closest(dp).matches(dp):false}return ds}else{if(dg.querySelectorAll){var dt=dg.querySelectorAll(dp);for(var dq=0;dq<dt.length;dq++){if(dt[dq]===dr){return true}}return false}}}return false};b8(dj);dc.roistatSaveProxyFormSettings=dh})(bT,E);(function J(){if(bT.onRoistatAllModulesLoaded!==bo&&typeof bT.onRoistatAllModulesLoaded==="function"){s("onRoistatAllModulesLoaded: call");bT.onRoistatAllModulesLoaded()}})();(function aR(c9,dc,c6){var e=function(){return bQ.get(ag)*1>0};var db=function(di){s("Request listener: "+di)};var dh=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var da=/^[^\s]+[@][^\s]+$/g;var c5=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var c4=function c4(){db("listen");if(c9.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function dk(dn){var dm=this;dd(dm.responseURL,dn,function(){dm.oldSend(dn)})}XMLHttpRequest.prototype.send=dk}if(c9.ActiveXObject){var dj=dl;function dl(dp){var dm=new dj(dp);var dq={};if(dp.toLowerCase()==="msxml2.xmlhttp"){dq={_ax:dm,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var dn="";dq._onReadyStateChange=function(){var dr=dq;return function(){dr.readyState=dr._ax.readyState;if(dr.readyState===4){dr.responseText=dr._ax.responseText;dr.responseXml=dr._ax.responseXml;dr.status=dr._ax.status;dr.statusText=dr._ax.statusText}if(dr.onReadyStateChange){dr.onReadyStateChange()}}}();dq.open=function(dv,dt,du,dr,ds){dn=dt;du=(du!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(dv,dt,du,dr,ds)};dq.send=function(dr){var ds=this;dd(dn,dr,function(){this._ax.send(dr)})}}else{dq=dm}return dq}c9.ActiveXObject=dl}if(c9.fetch){var di=fetch;fetch=function(dm,dn){dd(dm.url,dn||{});return di(dm,dn||{})}}c9.addEventListener("submit",function(dq){var ds=dq.target.elements;var dr={};for(var dp=0;dp<ds.length;dp++){var dn=ds[dp];var dm=dn.getAttribute("name");dr[dm]=dn.value}dd("",dr)})};function c7(di){var dl={};if(di.length===0){return dl}var dk=di.split("?");if(dk.length<2){return dl}var dj=dk[1];dl=c3(dj);return dl}function c3(dj){var dk=dj.split("&"),dm={};for(var di=0;di<dk.length;di++){var dl=dk[di].split("=");if(dl.length<2){continue}dm[dl[0]]=dl[1]}return dm}function df(dA){db("data: "+JSON.stringify(dA));var dt={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var dq={email:"",phone:"",name:""};for(var di in dt){var dw=dt[di];for(var dv in dw){if(dw.hasOwnProperty(dv)){if(dA.hasOwnProperty(dw[dv])){dq[di]=dA[dw[dv]];break}}}}db("new data: "+JSON.stringify(dq));var dk=dq.phone.length===0;var dp=dq.email.length===0;if(!dk&&!dp){return dq}var dj=new RegExp(da);var dn=new RegExp(dh);var dr=Object.keys(dA);for(var dx=0;dx<dr.length;dx++){var du=decodeURIComponent(String(dA[dr[dx]]));if(dp){var dl=du.match(dj);if(dl&&dl.length>0){var ds=dq.email;dq.email=dl[0];db("parsing email, before: "+ds+", after: "+dq.email)}}if(dk){var dz=du.replace(/[\s-.()+*_:;'"`]/g,"");var dy=dz.match(dn);if(dy&&dy.length>0){var dm=dq.phone;dq.phone=du;db("parsing phone, before: "+dm+", after: "+dq.phone)}}}return dq}var c8=function(di){var dj=aU(di);return !am(c5,dj)};function dd(dk,dj,di){if(dk.length>0&&!c8(dk)){return}var dm=c7(dk);var dp=dj;if(typeof dp==="string"){dp=c3(dp)}db("data before parsing "+JSON.stringify({get:dm,post:dp}));var dn=df(dm);var dl=df(dp);db("data after parsing "+JSON.stringify({get:dn,post:dl}));de(dn,dl,di)}function de(di,dk,dp){var dn=di.email.length>0?di.email:dk.email;var dj=di.phone.length>0?di.phone:dk.phone;var dm=di.name.length>0?di.name:dk.name;if(dn.length==0&&dj.length==0){dp();return}setTimeout(function(){dp()},100);var dl={leadName:"   ",name:dm,phone:dj,email:dn,is_skip_sending:1};db("phone or email is not empty, reaching goal "+JSON.stringify(dl));roistatGoal.reach(dl)}(function dg(){if(!e()){db("disabled, skip");return}c4()})()})(bT,E,bo)})(window,document,undefined);